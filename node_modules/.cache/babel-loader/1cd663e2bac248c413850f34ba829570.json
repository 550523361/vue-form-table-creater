{"remainingRequest":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/babel-loader/lib/index.js!/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/src/components/formCreater/baseFormCreater.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/src/components/formCreater/baseFormCreater.vue","mtime":1553588217554},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport _JSON$stringify from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _Object$keys from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/object/keys\";\nimport _Object$assign from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.map\";\nimport _Object$values from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/object/values\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _Promise from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport backendService from '../remoteService/backendService';\nimport validate from './../validate/validate';\nimport addInput from './addInput';\nimport chooseBtn from './chooseBtn';\nimport orderUploadImages from './addImages';\nexport default {\n  name: 'base-form-creater',\n  components: {\n    'add-input': addInput,\n    'choose-btn': chooseBtn,\n    'add-images': orderUploadImages\n  },\n  data: function data() {\n    return {\n      validate: validate,\n      formKey: Math.ceil(Math.random() * 10000000),\n      rules: {},\n      ruleForm: {},\n      queryElements: [],\n      dataQuery: {\n        query: {}\n      },\n      form: {},\n      queryButtons: [],\n      readonly: false,\n      editorModule: false,\n      tempQueryElements: {}\n    };\n  },\n  methods: {\n    queryListData: function queryListData(params) {\n      return backendService.getData({\n        url: params.url,\n        method: params.method || \"post\",\n        data: params.form\n      }).then(function (result) {\n        return _Promise.resolve(result);\n      });\n    },\n    changeQueryParam: function changeQueryParam(data, operate) {\n      var casecadeChild = data.casecadeChild;\n      var casecadeGrandsonList = data.casecadeGrandsonList;\n      var cleanMap = {};\n\n      if (casecadeChild) {\n        cleanMap[casecadeChild] = casecadeChild;\n      }\n\n      if (casecadeGrandsonList && casecadeGrandsonList.length > 0) {\n        casecadeGrandsonList.forEach(function (childItem) {\n          cleanMap[childItem] = childItem;\n        });\n      }\n\n      var allChildKey = _Object$values(cleanMap);\n\n      var that = this;\n      allChildKey.forEach(function (cleanKey) {\n        //console.log(\"cleanKey\",cleanKey)\n        that.$set(that.form, cleanKey, '');\n      });\n      that.$set(that.tempQueryElements, casecadeChild, []); //清空子元素关联临时值\n\n      that.queryElements.map(function (itemElement) {\n        if (cleanMap[itemElement.prop]) {\n          itemElement.defaultValue = \"\";\n          itemElement.value = \"\";\n        }\n\n        return itemElement;\n      });\n      this.changeHelp(data, operate);\n    },\n    changeHelp: function changeHelp(prop) {\n      var _this = this;\n\n      var that = this;\n\n      if (prop.type == \"select\") {\n        var currentSwitchValue = this.form[prop.prop];\n\n        if (prop.switchElements) {\n          var needInitSelected = [].filter.call(prop.switchElements, function (item) {\n            if (item.whenSwitchValue == currentSwitchValue) {\n              return true;\n            }\n          })[0]; //console.log(\"needInitSelected\",needInitSelected)\n\n          if (needInitSelected) {\n            var form = needInitSelected.noNeedAllParams ? {} : this.form;\n\n            if (needInitSelected.otherParam) {\n              form = _Object$assign(form, needInitSelected.otherParam);\n            }\n\n            for (var key in needInitSelected.dropProps) {\n              delete form[needInitSelected.dropProps[key]];\n            }\n\n            var item = needInitSelected;\n            if (!item.dataUrl) return;\n            this.queryListData({\n              url: item.dataUrl,\n              form: form,\n              httpMethod: item.httpMethod || \"get\"\n            }).then(function (listData) {\n              if (!listData) return;\n\n              _this.$set(_this.dataQuery.query, item.propList, item.dataHandler ? item.dataHandler(listData) : listData[item.propValueList]);\n\n              _this.form[item.prop] = item.defaultValue; // console.log(\"**** item\",item,this.dataQuery.query)\n            }, function (error) {\n              console.log(error);\n            });\n          }\n        } else if (prop.casecadeChild) {\n          var _form = prop.noNeedAllParams ? {} : this.form;\n\n          if (prop.casecadeChild.otherParam) {\n            _form = _Object$assign(_form, prop.otherParam);\n          }\n\n          var casecadeChild = this.findCasecadeChild(prop.casecadeChild);\n\n          if (casecadeChild.extendsProp) {\n            if (casecadeChild.extendsProp instanceof Array) {\n              for (var seq in casecadeChild.extendsProp) {\n                var _key = casecadeChild.extendsProp[seq];\n                _form[_key] = currentSwitchValue;\n              }\n            } else {\n              for (var _seq in _Object$keys(casecadeChild.extendsProp)) {\n                var _key2 = _Object$keys(casecadeChild.extendsProp)[_seq];\n\n                var targetParam = casecadeChild.extendsProp[_key2];\n                console.log(\"key\", _key2, \"targetParam\", targetParam, this.form[targetParam]);\n                _form[_key2] = this.form[targetParam];\n              }\n            }\n          }\n\n          var _item = casecadeChild;\n          this.queryListData({\n            url: _item.dataUrl,\n            form: _form,\n            httpMethod: _item.httpMethod || \"get\"\n          }).then(function (listData) {\n            if (!listData) return;\n            var resultData = _item.dataHandler ? _item.dataHandler(listData) : listData[_item.propValueList];\n\n            _this.$set(_this.dataQuery.query, _item.propList, resultData);\n\n            _this.form[_item.prop] = _item.defaultValue;\n            var that = _this;\n\n            if (_item.createFormItem) {\n              _Object$keys(that.form).filter(function (key) {\n                return key.indexOf(\"temp_\" + _item.prop + \"_\") >= 0;\n              }).forEach(function (deleteKey) {\n                //console.log(\"deleteKey\",deleteKey)\n                delete that.form[deleteKey];\n              });\n\n              _Object$keys(that.rules).filter(function (key) {\n                return key.indexOf(\"temp_\" + _item.prop + \"_\") >= 0;\n              }).forEach(function (deleteKey) {\n                //console.log(\"deleteRuleKey\",deleteKey)\n                delete that.rules[deleteKey];\n              });\n\n              resultData.forEach(function (formItem) {\n                formItem.validateProp = 'temp_' + _item.prop + '_' + (formItem.prop || formItem.id);\n                that.form[formItem.validateProp] = formItem.defaultValue || formItem.default || '';\n                that.setRules(formItem);\n              });\n            } //console.log(\"**** casecadeChild\",casecadeChild,this.dataQuery.query)\n\n          }, function (error) {\n            console.log(error);\n          });\n        } else if (prop.extendChild) {\n          console.log(\"prop\", prop);\n\n          var _form2 = prop.noNeedAllParams ? {} : this.form;\n\n          if (prop.casecadeChild.otherParam) {\n            _form2 = _Object$assign(_form2, prop.otherParam);\n          }\n\n          var _casecadeChild = prop.extendChild;\n\n          if (_casecadeChild.dataHandler) {\n            _casecadeChild.dataHandler = eval(_casecadeChild.dataHandler);\n          }\n\n          if (_casecadeChild.extendsProp) {\n            if (_casecadeChild.extendsProp instanceof Array) {\n              for (var _seq2 in _casecadeChild.extendsProp) {\n                var _key3 = _casecadeChild.extendsProp[_seq2];\n                _form2[_key3] = currentSwitchValue;\n              }\n            } else {\n              for (var _seq3 in _Object$keys(_casecadeChild.extendsProp)) {\n                var _key4 = _Object$keys(_casecadeChild.extendsProp)[_seq3];\n\n                var _targetParam = _casecadeChild.extendsProp[_key4];\n                console.log(\"key\", _key4, \"targetParam\", _targetParam, this.form[_targetParam]);\n                _form2[_key4] = this.form[_targetParam];\n              }\n            }\n          }\n\n          var _item2 = _casecadeChild;\n          this.queryListData({\n            url: _item2.dataUrl,\n            form: _form2,\n            httpMethod: _item2.httpMethod || \"get\"\n          }).then(function (listData) {\n            if (!listData) return;\n            var resultData = _item2.dataHandler ? _item2.dataHandler(listData, prop) : listData[_item2.propValueList];\n            console.log(\">>>>resultData\", _item2.prop, resultData);\n\n            _Object$keys(_this.form).filter(function (key) {\n              return key.indexOf(\"temp_\" + _item2.prop + \"#\") >= 0;\n            }).forEach(function (deleteKey) {\n              //console.log(\"deleteKey\",deleteKey)\n              delete _this.form[deleteKey];\n            });\n\n            _Object$keys(_this.rules).filter(function (key) {\n              return key.indexOf(\"temp_\" + _item2.prop + \"#\") >= 0;\n            }).forEach(function (deleteKey) {\n              //console.log(\"deleteRuleKey\",deleteKey)\n              delete _this.rules[deleteKey];\n            });\n\n            resultData.forEach(function (formItem) {\n              _this.setRules(formItem);\n            });\n\n            _this.$set(_this.tempQueryElements, prop.prop, resultData);\n          }, function (error) {\n            console.log(error);\n          });\n        }\n      } else if (prop.type = \"input\") {} else {\n        alert(\"no operate\");\n      }\n    },\n    findCasecadeChild: function findCasecadeChild(elementKey) {\n      var result = {};\n\n      for (var j = 0; j < this.queryElements.length; j++) {\n        var item = this.queryElements[j];\n\n        if (item.prop == elementKey) {\n          result = item;\n          break;\n        }\n\n        if (item.switchElements) {\n          for (var i = 0; i < item.switchElements.length; i++) {\n            var innerItem = item.switchElements[i];\n\n            if (innerItem.prop == elementKey) {\n              result = innerItem;\n            }\n          }\n        }\n      }\n\n      return result;\n    },\n    initQueryElement: function initQueryElement() {\n      var _this2 = this;\n\n      /*n 级 级联查询开始*/\n      var form = this.form;\n      if (this.queryElements == null || this.queryElements.length == 0) return;\n      var requestUrlParam = [].filter.call(this.queryElements, function (item) {\n        if (item.dataUrl && item.initQuery) {\n          return item;\n        }\n      });\n\n      var _loop = function _loop(seq) {\n        var item = requestUrlParam[seq]; //选择初始化 默认初始化 顶级父元素 和 标记为包含includeInit 属性的 下拉元素\n\n        if (item.casecadeParen == null || item.casecadeParen == \"\" || item.includeInit == true) {\n          /*顶级元素优先查询完成一级数据初始化*/\n          var _form3 = item.noNeedAllParams ? {} : _this2.form; //参数是否使用表单\n\n\n          if (item.otherParam) {\n            _form3 = _Object$assign(_form3, item.otherParam);\n          }\n\n          if (item.extendsProp) {\n            if (item.extendsProp instanceof Array) {\n              for (var _seq4 in item.extendsProp) {\n                var key = item.extendsProp[_seq4];\n                _form3[key] = _this2.form[key];\n              }\n            } else {\n              for (var _seq5 in _Object$keys(item.extendsProp)) {\n                var _key5 = _Object$keys(item.extendsProp)[_seq5];\n\n                var targetParam = item.extendsProp[_key5]; //console.log(\"key\",key,\"targetParam\",targetParam)\n\n                _form3[_key5] = _this2.form[targetParam];\n              }\n            }\n          }\n\n          _this2.queryListData({\n            url: item.dataUrl,\n            form: _form3,\n            httpMethod: item.httpMethod || \"get\"\n          }).then(function (listData) {\n            if (!listData) return;\n\n            _this2.$set(_this2.dataQuery.query, item.propList, item.dataHandler ? item.dataHandler(listData) : listData[item.propValueList]);\n\n            _this2.form[item.prop] = item.defaultValue; //console.log(\"****\",this.dataQuery.query)\n          }, function (error) {\n            console.log(error);\n          });\n        }\n      };\n\n      for (var seq in requestUrlParam) {\n        _loop(seq);\n      }\n      /*n 级 级联查询结束*/\n\n\n      this.queryButtons = this.queryElements.filter(function (item) {\n        return item.type == 'button' || item.type == 'search';\n      });\n    },\n    queryBtnClick: function queryBtnClick(params, btn) {\n      console.log(\"queryBtnClick\", params);\n\n      if (btn.click && typeof btn.click == \"function\") {\n        btn.click(params);\n      } else {\n        if (this.$attrs.clickConfig && typeof this.$attrs.clickConfig == \"function\") {\n          this.$attrs.clickConfig(params);\n        }\n      }\n    },\n    submitForm: function submitForm(formName) {\n      var _this3 = this;\n\n      var that = this;\n      this.$refs[formName].validate(function (valid) {\n        // console.log(this.form)\n        if (valid) {\n          //alert('submit!');\n          var config = _this3.$attrs.config;\n          var resultData = JSON.parse(_JSON$stringify(that.form));\n\n          if (config.saveData && typeof config.saveData == \"function\") {\n            _Object$keys(resultData).filter(function (key) {\n              return key.indexOf(\"temp_\") >= 0;\n            }).forEach(function (targetKey) {\n              /temp_([a-zA-Z]+)_([a-zA-Z_\\d]+)/.exec(targetKey);\n\n              if (!resultData[RegExp.$1 + '_params']) {\n                resultData[RegExp.$1 + '_params'] = {};\n              }\n\n              resultData[RegExp.$1 + '_params'][RegExp.$2] = resultData[targetKey];\n              delete resultData[targetKey]; //console.log(\"targetKey\",RegExp.$1,RegExp.$2)\n            });\n\n            console.log(\"resultData\", resultData);\n            config.saveData(resultData);\n          }\n          /*this.saveData({\n              url:'mall/merchant/create.json',\n              method:'post',\n              queryParam:this.form\n          }).then(success=>{\n              console.log(\"'mall/merchant/create.json' success\",success)\n          },error=>{\n           });*/\n\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    cancle: function cancle() {\n      var config = this.$attrs.config;\n\n      if (config.cancle && typeof config.cancle == \"function\") {\n        config.cancle(this.form);\n      }\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    setRules: function setRules(item) {\n      var that = this;\n      var validateRules = item.validateRules; //||[{\"required\":true,maxlength:8,minlength:3}]\n\n      if (validateRules == null || validateRules == \"\" || validateRules == undefined) {\n        that.rules[item.validateProp] = [];\n      } else {\n        //console.log(\"typeof validateRules\",typeof validateRules)\n        if (typeof validateRules === \"string\") {\n          validateRules = JSON.parse(validateRules);\n        }\n\n        if (validateRules.length > 0) {\n          var errorMessageMap = that.validate.errorMessageMap;\n          var allRuleInOne = {};\n          var allErrorInOne = {};\n          var itemValidatorFunctions = [];\n          validateRules.forEach(function (rule) {\n            if (typeof rule.validator === \"function\") {\n              var wrapValidatorFunction = {\n                trigger: rule.trigger || \"change\",\n                allErrorInOne: allErrorInOne,\n                validator: function validator(_validator, value, callback) {\n                  var errorMessage = rule.validator(_validator, value, callback, validate, allRuleInOne, that.form);\n                  errorMessage && errorMessage.then(function (data) {\n                    if (data.code == 1) {\n                      callback();\n                    } else {\n                      callback(new Error(_validator.allErrorInOne && _validator.allErrorInOne[data.errorCode] || data.msg));\n                    }\n                  });\n                }\n              };\n              itemValidatorFunctions.push(wrapValidatorFunction);\n            } else {\n              _Object$keys(rule).forEach(function (validateItem) {\n                var tipMessage = errorMessageMap[validateItem];\n\n                if (typeof tipMessage == \"function\") {\n                  allErrorInOne[validateItem] = errorMessageMap[validateItem]({\n                    label: item.label,\n                    length: rule[validateItem]\n                  });\n                } else {\n                  //console.log(\"***************\",rule)\n                  allErrorInOne[validateItem] = errorMessageMap[validateItem];\n                }\n              });\n\n              allRuleInOne = _Object$assign(allRuleInOne, rule);\n            }\n          });\n          var tempValidator = {\n            trigger: \"change\",\n            allErrorInOne: allErrorInOne,\n            validator: function validator(_validator2, value, callback) {\n              //console.log(\"addInputList\",validator,value)\n              var errorMessage = validate.validator(value, allRuleInOne, that.form);\n              errorMessage.then(function (data) {\n                if (data.code == 1) {\n                  callback();\n                } else {\n                  callback(new Error(_validator2.allErrorInOne && _validator2.allErrorInOne[data.errorCode] || data.msg));\n                }\n              });\n            }\n          };\n          that.rules[item.validateProp || item.prop] = [allRuleInOne[\"required\"] ? {\n            required: true,\n            message: allErrorInOne[\"required\"]\n          } : {}].concat(itemValidatorFunctions, [tempValidator]);\n        }\n      }\n    },\n    saveAppSuccess: function saveAppSuccess(response, file, fileList, queryItem) {\n      // console.log(/*response,file,fileList,*/queryItem)\n      var that = this;\n      var successUpload = queryItem.imgUploadConfig && queryItem.imgUploadConfig.successUpload;\n\n      if (successUpload && typeof successUpload == \"function\") {\n        var checkResult = successUpload(response, file, queryItem, this.form);\n\n        if (checkResult) {\n          if (checkResult instanceof _Promise) {\n            checkResult.then(function (success) {\n              that.form[queryItem.prop] = success.data;\n            }, function (error) {\n              that.$msgbox(error.msg); //reject({msg:error.msg});\n            });\n          }\n        }\n      } else {\n        that.form[queryItem.prop] = response.data.fileUrls[0];\n      }\n\n      this.$nextTick(function () {\n        that.loading && that.loading.close();\n      });\n    },\n    onchangeUpload: function onchangeUpload(data, data2, data3) {\n      // console.log(\"onchangeUpload\",data,data2,data3)\n      this.choosedAppIcon = data;\n    },\n    uploadProgress: function uploadProgress() {//console.log(\"params\",...params)\n    },\n    uploadError: function uploadError() {\n      //console.log(\"params\",...params);\n      var that = this;\n      that.$nextTick(function () {\n        that.loading && that.loading.close();\n      });\n      that.$message({\n        duration: 0,\n        showClose: true,\n        type: 'error',\n        message: '都是我不好,刚刚上传失败了,可能包太大可能网不好,请你稍后再重试!!'\n      });\n    },\n    beforeIconUpload: function beforeIconUpload(file, queryItem) {\n      var that = this; //console.log(\"beforeIconUpload\",file,queryItem)\n\n      return new _Promise(function (resolve, reject) {\n        //console.log(that.choosedAppIcon)\n        var beforeUpload = queryItem.imgUploadConfig && queryItem.imgUploadConfig.beforeUpload;\n\n        if (beforeUpload && typeof beforeUpload == \"function\") {\n          var checkResult = beforeUpload(file, queryItem);\n\n          if (checkResult) {\n            if (checkResult instanceof _Promise) {\n              checkResult.then(function (success) {\n                resolve({\n                  code: 1,\n                  msg: 'success'\n                });\n                that.loading = that.$loading({\n                  lock: true,\n                  text: 'Loading',\n                  spinner: 'el-icon-loading',\n                  background: 'rgba(0, 0, 0, 0.3)'\n                });\n              }, function (error) {\n                that.$msgbox(error.msg);\n                reject({\n                  msg: error.msg\n                });\n              });\n            }\n          }\n        } else {\n          if (!(file.type == \"image/png\" || file.type == \"image/jpg\" || file.type == \"image/jpeg\")) {\n            that.$message.error('请选择.png/jpg/jpeg图片');\n            reject({\n              msg: \"please choose png image\"\n            });\n          }\n        } //console.log(\"beforeIconUpload111\",file,queryItem)\n\n\n        if (that.choosedAppIcon != null && (queryItem.imgUploadConfig && !queryItem.imgUploadConfig.notImage || queryItem.imgUploadConfig == null)) {\n          var choosedImage = that.choosedAppIcon; // console.log(\"beforeIconUpload22\",choosedImage)\n\n          var readResult = new FileReader();\n\n          readResult.onload = function (data) {\n            var fileData = data.target.result;\n            var image = new Image();\n            image.src = fileData;\n\n            image.onload = function (data) {\n              var imageData = data.path && data.path[0] || data.target;\n              var imageWidth = imageData.width,\n                  imageHeight = imageData.height;\n              var beforeUploadImageSize = queryItem.imgUploadConfig && queryItem.imgUploadConfig.beforeUploadImageSize;\n\n              if (beforeUploadImageSize && typeof beforeUploadImageSize == \"function\") {\n                var _checkResult = beforeUploadImageSize(imageWidth, imageHeight, file, queryItem);\n\n                if (_checkResult) {\n                  if (_checkResult instanceof _Promise) {\n                    return _checkResult.then(function (success) {\n                      that.loading = that.$loading({\n                        lock: true,\n                        text: 'Loading',\n                        spinner: 'el-icon-loading',\n                        background: 'rgba(0, 0, 0, 0.3)'\n                      });\n                      resolve({\n                        msg: \"success\"\n                      });\n                    }, function (error) {\n                      that.$msgbox(error.msg);\n                      reject({\n                        msg: error.msg\n                      });\n                    });\n                  }\n                }\n              } else {\n                if (!(file.type == \"image/png\" || file.type == \"image/jpg\" || file.type == \"image/jpeg\")) {\n                  that.$message.error('请选择.png/jpg/jpeg图片');\n                  reject({\n                    msg: \"please choose png image\"\n                  });\n                }\n              }\n\n              if (queryItem.imgUploadConfig && queryItem.imgUploadConfig.width != undefined && queryItem.imgUploadConfig.height != undefined && (imageWidth != queryItem.imgUploadConfig.width || imageHeight != queryItem.imgUploadConfig.height)) {\n                var errorMessage = '图片大小必须为' + queryItem.imgUploadConfig.width + 'px*' + queryItem.imgUploadConfig.height + 'px';\n                that.$msgbox(errorMessage);\n                reject({\n                  msg: errorMessage\n                });\n              } else {\n                that.loading = that.$loading({\n                  lock: true,\n                  text: 'Loading',\n                  spinner: 'el-icon-loading',\n                  background: 'rgba(0, 0, 0, 0.3)'\n                });\n                resolve({\n                  msg: \"success\"\n                });\n              }\n            };\n          };\n\n          readResult.readAsDataURL(file);\n        }\n      });\n    },\n    dataBus: function dataBus(props, data) {\n      //console.log(\"************\",props,data)\n      this.form[props.prop] = data && data.join(\"||||\") || \"\";\n    },\n    initPage: function initPage() {\n      var that = this;\n      var config = this.$attrs.config; //console.log(\"*****************initPage*******************\")\n\n      that.readonly = config.readonly || false;\n      this.queryElements = config.queryElements;\n      this.queryElements.forEach(function (item) {\n        //item.readonly=config.readonly||true;\n        if (item.type == 'button' || item.type == 'search') {} else if (item.type == 'composite') {\n          item.components.forEach(function (component) {\n            that.$set(that.form, component.prop, component.default || component.defaultValue || '');\n            that.setRules(component);\n          });\n        } else {\n          that.$set(that.form, item.prop, item.default || item.defaultValue || '');\n          that.setRules(item);\n\n          if (item.switchElements && item.switchElements instanceof Array) {\n            item.switchElements.forEach(function (i) {\n              that.$set(that.form, i.prop, i.default || '');\n              that.setRules(i);\n            });\n          }\n        }\n\n        if (item.dataBus) {\n          item.dataBus = that.dataBus;\n\n          if (item.type == 'addImages') {\n            item.imagesListConfig.dataBus = that.dataBus;\n          }\n        }\n      });\n      this.initQueryElement();\n      var formData = config.formData;\n\n      if (formData) {\n        _Object$keys(formData).forEach(function (key) {\n          that.$set(that.form, key, formData[key]);\n        });\n      }\n    },\n    groupedStyle: function groupedStyle(groupElements) {\n      var groupStyle = null;\n      groupElements.forEach(function (item) {\n        if (!groupStyle && item.groupedStyle) {\n          groupStyle = item.groupedStyle;\n        }\n      }); //console.log(\"groupElements\",groupElements)\n\n      return groupStyle || {\n        border: '1px dashed #eeee',\n        display: 'inline-block',\n        width: '80%',\n        marginLeft: '10%',\n        background: 'linear-gradient(#67c23a61, #409eff8c)',\n        marginBottom: '0px'\n      };\n    },\n    elementWatch: function elementWatch(queryItem) {\n      var that = this;\n      if (!queryItem.watch || _Object$keys(queryItem.watch).length == 0) return true; //没有观察对象或观察对象没有键值对\n\n      var watchProps = _Object$keys(queryItem.watch.watchValue);\n\n      var allCheckResult = watchProps.map(function (prop) {\n        // 如果 观察属性没有配置值 默认展示 {name:null}\n        // 如果 观察属性map配置值 默认展示 {state:{1:true,2:true,5:true,8:false}}\n        // 如果 观察属性函数配置值 默认展示 {state:data=>{}}\n        var propWatchConfig = queryItem.watch.watchValue[prop]; //console.log(prop,\" _.type(propWatchConfig)\",propWatchConfig, _.isMap(propWatchConfig), _.isFunction(propWatchConfig))\n\n        if (propWatchConfig) {\n          if (_.isFunction(propWatchConfig)) {\n            return propWatchConfig(prop, that.form, queryItem);\n          } else {\n            return propWatchConfig[that.form[prop]] != true;\n          }\n        }\n      });\n      return allCheckResult.filter(function (item) {\n        return item == true;\n      }).length == 0;\n    }\n  },\n  created: function created() {\n    var that = this;\n    that.initPage();\n    this.$watch(\"$attrs.config.queryElements\", function (newValue, oldValue) {\n      that.initPage();\n    }, {\n      deep: false\n    });\n    this.$watch(\"$attrs.config.formData\", function (newValue, oldValue) {\n      if (newValue) {\n        _Object$keys(newValue).forEach(function (key) {\n          that.$set(that.form, key, newValue[key]);\n        });\n      }\n    }, {\n      deep: true\n    });\n  },\n  computed: {\n    elementGroup: function elementGroup() {\n      this.$attrs.config.queryElements.map(function (item, seq) {\n        item.order = seq * 10000;\n      });\n\n      var allElements = _.flatten(_Object$values(this.tempQueryElements)).concat(this.$attrs.config.queryElements);\n\n      allElements = _.sortBy(allElements, function (item) {\n        return item.order;\n      });\n      return _.groupBy(allElements, function (item) {\n        return item.groupedName;\n      });\n    },\n    allElement: function allElement() {\n      /*let allElements=_.flatten(Object.values(this.elementGroup));\n      allElements=_.sortBy(allElements,item=>item.order);\n      let cloneAllElements=_.cloneDeep(allElements);\n       cloneAllElements.map(item=>{\n          Object.keys(item).forEach(key=>{\n              if(key.indexOf(\"Handler\")){\n                  item[key]=item[key].toString();\n              }\n          })\n      })*/\n      return [];\n    }\n  }\n};",{"version":3,"sources":["baseFormCreater.vue"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable */\n<template>\n    <div :class = \"{readonlyContainer:readonly,editorModule:$attrs.config.editorModule||false}\">\n        <div class=\"searchContainer\" >\n            <div class=\"elementsContainer\">\n                <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" :style=\"$attrs.config.formStyle||{}\" :label-width=\"$attrs.config.labelWidth||'180px'\">\n                      <span v-for=\"(groupName,groupIndex) in Object.keys(elementGroup)\" :key=\"'grouped_key'+groupIndex+'_'+groupName\" :style=\"groupedStyle(elementGroup[groupName])\">\n                          <span class=\"queryElement\" :class=\"{\n                              hidden:queryItem.type=='hidden',\n                              tabContainer:queryItem.type=='tab',\n                              tableClass:queryItem.type=='communityChoose',\n                              switchContainer:queryItem.switchElements,\n                              switchElement:queryItem.switchElements\n                            }\" v-for=\"(queryItem,eleIndex) in elementGroup[groupName]\"\n                                :style=\"queryItem.containerStyle||{position: 'relative'}\"\n                                :key=\"queryItem.prop+'_'+queryItem.label+'_'+eleIndex\"\n                          >\n                            <span class=\"editorOperateContainer\">\n                                <span @click=\"$attrs.config.editorFormHandler('del',queryItem,eleIndex)\" style=\"color: #f00;\" title=\"删除当前元素\">删除</span>\n                                <span v-if=\"eleIndex\" @click=\"$attrs.config.editorFormHandler('up',queryItem,eleIndex)\" title=\"上移动一个位置\">上移动</span>\n                                <span v-if=\"eleIndex!=elementGroup[groupName].length-1\" @click=\"$attrs.config.editorFormHandler('down',queryItem,eleIndex)\" title=\"下移动一个位置\">下移动</span>\n                            </span>\n                            <template  v-if=\"queryItem.type=='input'&&elementWatch(queryItem)\"  >\n                                <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\">\n                                  <el-col :span=\"queryItem.span||8\">\n                                    <template v-if=\"queryItem.preText\">{{queryItem.preText}}</template>\n                                    <el-input v-if=\"!(queryItem.readonly||readonly)\" :type=\"queryItem.inputType||''\" :style=\"queryItem.style||{}\" :rows=\"queryItem.rows||1\" v-model=\"form[queryItem.prop]\" :disabled=\"queryItem.readonly||readonly\" :placeholder=\"queryItem.placeholder\">\n                                    </el-input>\n                                    <span v-if=\"queryItem.readonly||readonly\" v-html=\"form[queryItem.prop]\"></span>\n                                    <template v-if=\"queryItem.rightBtn&&!(queryItem.readonly||readonly)\"><span @click=\"queryItem.rightBtnClick(form,queryItem)\" v-html=\"queryItem.rightBtn\"></span></template>\n                                    <template v-if=\"queryItem.subText&&!(queryItem.readonly||readonly)\"><span v-html=\"queryItem.subText\"></span></template>\n                                    <div v-if=\"!(queryItem.readonly||readonly)\" style=\"color: #f00;font-size: 12px;line-height: 20px;\">\n                                        {{queryItem.tip}}\n                                    </div>\n                                  </el-col>\n                                </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='cascader'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  >\n                                <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\">\n                                  <el-col :span=\"queryItem.span||8\">\n                                    <template v-if=\"queryItem.preText\">{{queryItem.preText}}</template>\n                                    <el-cascader\n                                            expand-trigger=\"hover\"\n                                            :style=\"queryItem.cascaderStyle||{width:'400px'}\"\n                                            :label=\"queryItem.itemLabel\"\n                                            :value=\"queryItem.itemValue\"\n                                            :disabled=\"queryItem.readonly||readonly\"\n                                            :options=\"queryItem.cascaderOptions\"\n                                            v-model=\"form[queryItem.prop]\">\n                                    </el-cascader>\n                                    <template v-if=\"queryItem.rightBtn\"><span @click=\"queryItem.rightBtnClick\" v-html=\"queryItem.rightBtn\"></span></template>\n                                    <template v-if=\"queryItem.subText\"><span v-html=\"queryItem.subText\"></span></template>\n                                    <div style=\"color: #f00;font-size: 12px;line-height: 20px;\">\n                                        {{queryItem.tip}}\n                                    </div>\n                                  </el-col>\n                                </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='date'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  >\n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\">\n                                  <el-date-picker type=\"date\" :placeholder=\"queryItem.placeholder\" v-model=\"form[queryItem.prop]\" ></el-date-picker>\n                                </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='button'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  >\n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\">\n                                    <el-button :class=\"queryItem.class\" :type=\"queryItem.type||'info'\" :style=\"queryItem.style\" @click=\"queryItem.click&&queryItem.click(queryItem)\">{{queryItem.buttonLabel}}</el-button>\n                                </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='upload'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  >\n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\">\n\n                                  <el-col :span=\"queryItem.span||8\">\n                                      <div v-if=\"queryItem.imgUploadConfig&&queryItem.imgUploadConfig.notImage\">{{form[queryItem.prop]}}</div>\n                                      <img v-else :src=\"form[queryItem.prop]\" style=\"width: 100px;height: 100px;vertical-align: middle;border:1px solid #eee;display: inline-block;\" alt=\"\">\n                                      <el-upload\n                                              class=\"upload-demo\"\n                                              name=\"file\"\n                                              v-if=\"!readonly\"\n                                              :show-file-list=\"false\"\n                                              action=\"/api-backend/fileUpload.json\"\n                                              :on-progress=\"function(...params){\n                                            return uploadProgress(params,queryItem)\n                                          }\"\n                                              :on-error=\"function(...params){\n                                            return uploadError(params,queryItem)\n                                          }\"\n                                              :on-change=\"function(param){\n                                            return onchangeUpload(param,queryItem)\n                                          }\"\n                                              :style=\"queryItem.style||{}\"\n                                              :disabled=\"readonly\"\n                                              :before-upload=\"function(file) {\n                                            return beforeIconUpload(file,queryItem)\n                                          }\"\n                                              :on-success=\"function(response, file, fileList) {\n                                            return saveAppSuccess(response, file, fileList,queryItem)\n                                          }\">\n                                            <el-button size=\"small\" type=\"primary\" v-if=\"!readonly\">点击上传</el-button>\n                                            <div slot=\"tip\" v-if=\"!readonly\" class=\"el-upload__tip\">\n                                                <div v-html=\"queryItem.tip\"></div>\n                                            </div>\n                                      </el-upload>\n                                  </el-col>\n                                  <template v-if=\"queryItem.subText&&!(queryItem.readonly||readonly)\"><span v-html=\"queryItem.subText\"></span></template>\n                                    <!--<el-input v-model=\"form[queryItem.prop]\" style=\"display: none\" placeholder=\"\"></el-input>-->\n                                </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='import'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  >\n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\">\n                                  <img :src=\"form[queryItem.prop]\" style=\"width: 100px;height: 100px;vertical-align: middle;\" alt=\"\">\n                                  <el-upload\n                                          class=\"upload-demo\"\n                                          name=\"file\"\n                                          :show-file-list=\"true\"\n                                          :data=\"form\"\n                                          :ref=\"'import_'+queryItem.prop\"\n                                          :auto-upload=\"false\"\n                                          :action=\"queryItem.url\"\n                                          :on-change=\"function(param){\n                                            return onchangeUpload(param,queryItem)\n                                          }\"\n                                          :disabled=\"readonly\"\n                                          :before-upload=\"function(file) {\n                                            return beforeIconUpload(file,queryItem)\n                                          }\"\n                                          :on-success=\"function(response, file, fileList) {\n                                            return saveAppSuccess(response, file, fileList,queryItem)\n                                          }\">\n                                        <el-button size=\"small\" type=\"primary\" v-if=\"!readonly\">{{queryItem.buttonLabel||'点击上传'}}</el-button>\n                                        <div slot=\"tip\" class=\"el-upload__tip\">\n                                            {{queryItem.tip}}\n                                        </div>\n                                  </el-upload>\n                                    <!--<el-input v-model=\"form[queryItem.prop]\" style=\"display: none\" placeholder=\"\"></el-input>-->\n                                </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='addInput'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  > \n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\"> \n                                    <add-input :config=\"queryItem\"></add-input> \n                                    <span style=\"display: none\"> \n                                        <el-input v-model=\"form[queryItem.prop]\" hidden :placeholder=\"queryItem.placeholder\"></el-input> \n                                    </span> \n                                </el-form-item> \n                            </template> \n                            <template  v-if=\"queryItem.type=='chooseBtn'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  :style=\"{'margin-top':'10px','padding-right': '10px',width:queryItem.width||'100%',display: 'inline-block'}\"> \n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\"> \n                                    <choose-btn :config=\"Object.assign(queryItem,{readonly:readonly})\" :readData=\"form\"></choose-btn> \n                                    <span style=\"display: none\"> \n                                        <el-input v-model=\"form[queryItem.prop]\" hidden :placeholder=\"queryItem.placeholder\"></el-input> \n                                    </span> \n                                </el-form-item> \n                            </template>\n                            <template  v-if=\"queryItem.type=='communityChoose'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  :style=\"{'margin-top':'10px','padding-right': '10px',width:queryItem.width||'100%',display: 'inline-block'}\"> \n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\"> \n                                    <community-choose :config=\"queryItem\" :readData=\"form\"></community-choose> \n                                    <span style=\"display: none\"> \n                                        <el-input v-model=\"form[queryItem.prop]\" hidden :placeholder=\"queryItem.placeholder\"></el-input> \n                                    </span> \n                                </el-form-item> \n                            </template>\n                            <template  v-if=\"queryItem.type=='communityPropertyChoose'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"   :style=\"{'margin-top':'10px','padding-right': '10px',width:queryItem.width||'100%',display: 'inline-block'}\"> \n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\"> \n                                    <community-property-choose :config=\"queryItem\" :readData=\"form\"></community-property-choose> \n                                    <span style=\"display: none\"> \n                                        <el-input v-model=\"form[queryItem.prop]\" hidden :placeholder=\"queryItem.placeholder\"></el-input> \n                                    </span> \n                                </el-form-item> \n                            </template>\n                            <template  v-if=\"queryItem.type=='switchBtn'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\"  >\n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\">\n                                  <el-switch :placeholder=\"queryItem.placeholder\" v-model=\"form[queryItem.prop]\"></el-switch>\n                                </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='checkbox'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\">\n                                <span v-if=\"!queryItem.dataUrl\">\n                                  <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\" >\n                                    <el-checkbox-group v-model=\"form[queryItem.prop]\"  >\n                                      <el-checkbox v-for=\"item in queryItem.items\" :label=\"item.code\"  :key=\"item.code+item.value+item.id+'_checkbox'+item.label+'_'+eleIndex\">{{item.label}}</el-checkbox>\n                                    </el-checkbox-group>\n                                  </el-form-item>\n                                </span>\n                                <span v-if=\"queryItem.dataUrl\">\n                                  <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\">\n                                    <el-checkbox-group v-model=\"form[queryItem.prop]\">\n                                      <el-checkbox-button v-for=\"item in dataQuery.query[queryItem.propList]\" :key=\"item.code+item.value+item.id+'_checkbox'+item.label+'_'+eleIndex\" :label=\"item.label\" :name=\"queryItem.prop+'checkbox'\"></el-checkbox-button>\n                                    </el-checkbox-group>\n                                  </el-form-item>\n                                </span>\n                            </template>\n                            <template  v-if=\"queryItem.type=='radio'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\">\n                                <template v-if=\"!queryItem.dataUrl\">\n                                  <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\">\n                                    <el-radio-group v-model=\"form[queryItem.prop]\" :size=\"queryItem.items.length+''\">\n                                      <el-radio border v-for=\"item in queryItem.items\" :disabled=\"queryItem.readonly||readonly\" :label=\"item.code\" :name=\"queryItem.prop+'checkbox'\" :key=\"item.code+item.value+item.id+'_radio'+item.label+'_'+eleIndex\">{{item.label}}</el-radio>\n                                    </el-radio-group>\n                                  </el-form-item>\n                                </template>\n                                <template v-if=\"queryItem.dataUrl\">\n                                  <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\">\n                                    <el-radio-group v-model=\"form[queryItem.prop]\">\n                                      <el-radio border v-for=\"item in dataQuery.query[queryItem.propList]\" :label=\"item.code\" :name=\"queryItem.prop+'checkbox'\" :key=\"item.code+item.value+item.id+'_radio'+item.label+'_'+eleIndex\">{{item.label}}</el-radio>\n                                    </el-radio-group>\n                                  </el-form-item>\n                                </template>\n                            </template>\n                            <template   v-if=\"queryItem.type=='html'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\">\n                                    <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\" :style=\"queryItem.style||{}\" :class=\"queryItem.className\">\n                                        <div v-html=\"queryItem.dataHandler?queryItem.dataHandler(form[queryItem.prop],form):form[queryItem.prop]\" :style=\"{background: queryItem.background||'#9c9c9c'}\"></div>\n                                    </el-form-item>\n                            </template>\n                          <template   v-if=\"queryItem.type=='addImages'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\">\n                                    <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\">\n                                        <add-images :config=\"queryItem\"></add-images>\n                                    </el-form-item>\n                            </template>\n                            <template  v-if=\"queryItem.type=='select'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\">\n                                <template v-if=\"!queryItem.dataUrl\">\n                                  <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\">\n                                    <el-select v-model=\"form[queryItem.prop]\" :placeholder=\"queryItem.defaultLabel\" :disabled=\"queryItem.readonly||readonly\" @change=\"changeQueryParam(queryItem)\">\n                                      <el-option :label=\"queryItem.defaultLabel||'请选择'\" :value=\"queryItem.defaultValue||''\"></el-option>\n                                      <el-option  v-for=\"(component,componentIndex) in queryItem.options\" :value=\"component.value||component.code||component.id\" :label=\"component.label||component.name\" :key=\"component.code+component.value+component.id+'_select'+component.label+'_'+eleIndex+'_'+componentIndex\"></el-option>\n                                    </el-select>\n                                  </el-form-item>\n                                </template>\n                                <template v-if=\"queryItem.dataUrl\">\n                                  <el-form-item :label=\"queryItem.label\" :prop=\"queryItem.prop\">\n                                    <el-select v-model=\"form[queryItem.prop]\" :placeholder=\"queryItem.defaultLabel\" :disabled=\"queryItem.readonly||readonly\" @change=\"changeQueryParam(queryItem)\">\n                                      <el-option :label=\"queryItem.defaultLabel||'请选择'\" :value=\"queryItem.defaultValue||''\"></el-option>\n                                      <el-option  v-for=\"(component,componentIndex) in dataQuery.query[queryItem.propList]\" :value=\"component.value||component.code||component.id\" :label=\"component.label||component.name||component.desc\" :key=\"component.code+component.value+component.id+'_select'+component.label+'_'+eleIndex+'_'+componentIndex\"></el-option>\n                                    </el-select>\n                                  </el-form-item>\n                                </template>\n                            </template>\n                            <template  v-if=\"queryItem.type=='datetimerange'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                                return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][form[prop]]!=true\n                            }).filter(item=>item==true).length==0:true)\">\n                                <el-form-item :prop=\"queryItem.prop\" :label=\"queryItem.label\"> \n                                    <el-date-picker\n                                            v-model=\"form[queryItem.prop]\"\n                                            :type=\"queryItem.dateType||'datetimerange'\"\n                                            :disabled=\"queryItem.readonly||readonly\"\n                                            :picker-options=\"queryItem.options\"\n                                            :range-separator=\"queryItem.centerLabel||'至'\"\n                                            :placeholder=\"queryItem.placeholder||'请选择时间范围'\"\n                                            :format=\"queryItem.format||'yyyy-MM-dd hh:mm:ss'\"\n                                            @change=\"data=>{\n                                                form[queryItem.prop]=data.split((queryItem.centerLabel||'至'));\n                                            }\"\n                                            align=\"right\">\n                                    </el-date-picker>\n                                </el-form-item> \n                            </template>\n                      </span>\n                      </span>\n                </el-form>\n                <div v-if=\"!$attrs.config.noneSaveBtn\" :style=\"$attrs.config.btnContainerStyle||{}\">\n                    <el-button type=\"primary\" v-if=\"!readonly\" @click=\"submitForm('form')\" :style=\"$attrs.config.confirmBtnStyle||{width:'220px'}\">{{$attrs.config.saveBtnlabel||(form[\"id\"]?\"立即更新\":'立即创建')}}</el-button>\n                    <el-button @click=\"cancle\" :style=\"$attrs.config.cancleBtnStyle||{width:'220px'}\">{{$attrs.config.cancleBtnlabel||'取消'}}</el-button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n\n    import backendService from '../remoteService/backendService'\n    import validate from './../validate/validate'\n    import addInput from './addInput'\n    import chooseBtn from './chooseBtn'\n    import orderUploadImages from './addImages'\n\n    export default {\n        name: 'base-form-creater',\n        components:{\n            'add-input':addInput,\n            'choose-btn':chooseBtn ,\n            'add-images':orderUploadImages\n        },\n        data(){\n            return{\n                validate:validate,\n                formKey:Math.ceil(Math.random()*10000000),\n                rules:{\n                },\n                ruleForm:{},\n                queryElements:[],\n                dataQuery:{\n                    query:{}\n                },\n                form:{},\n                queryButtons:[],\n                readonly:false,\n                editorModule:false,\n                tempQueryElements:{}\n            }\n        },\n        methods:{\n            queryListData(params){\n                return backendService.getData({\n                    url:params.url,\n                    method:params.method||\"post\",\n                    data:params.form\n                }).then(function (result) {\n                    return Promise.resolve(result)\n                })\n            },\n            changeQueryParam:function (data,operate) {\n                    let casecadeChild=data.casecadeChild;\n                    let casecadeGrandsonList=data.casecadeGrandsonList;\n                    let cleanMap={};\n                    if(casecadeChild){\n                        cleanMap[casecadeChild]=casecadeChild;\n                    }\n\n                    if(casecadeGrandsonList&&casecadeGrandsonList.length>0){\n                        casecadeGrandsonList.forEach(childItem=>{\n                            cleanMap[childItem]=childItem;\n                        })\n                    }\n                    let allChildKey=Object.values(cleanMap)\n                    let that=this;\n                    allChildKey.forEach(cleanKey=>{\n                        //console.log(\"cleanKey\",cleanKey)\n                        that.$set(that.form,cleanKey,'');\n                    })\n\n                    that.$set(that.tempQueryElements,casecadeChild,[])//清空子元素关联临时值\n\n                    that.queryElements.map(itemElement=>{\n                        if(cleanMap[itemElement.prop]){\n                            itemElement.defaultValue=\"\";\n                            itemElement.value=\"\";\n                        }\n                        return itemElement;\n                    })\n                    this.changeHelp(data,operate);\n            },\n            changeHelp(prop){\n                let that=this;\n                if(prop.type==\"select\"){\n                    let currentSwitchValue=this.form[prop.prop];\n                    if(prop.switchElements){\n                        let needInitSelected=[].filter.call(prop.switchElements,(item)=>{if(item.whenSwitchValue==currentSwitchValue){ return true;}})[0];\n                        //console.log(\"needInitSelected\",needInitSelected)\n                        if(needInitSelected){\n                            let form=needInitSelected.noNeedAllParams?{}:this.form;\n                            if(needInitSelected.otherParam){\n                                form=Object.assign(form,needInitSelected.otherParam)\n                            }\n                            for(let key in needInitSelected.dropProps){\n                                delete form[needInitSelected.dropProps[key]];\n                            }\n                            let item=needInitSelected;\n                            if(!item.dataUrl) return;\n                            this.queryListData({url:item.dataUrl,form:form,httpMethod:item.httpMethod||\"get\"}).then((listData)=>{\n                                if(!listData) return;\n                                this.$set(this.dataQuery.query,item.propList,item.dataHandler?item.dataHandler(listData):listData[item.propValueList])\n                                this.form[item.prop]=item.defaultValue;\n                                // console.log(\"**** item\",item,this.dataQuery.query)\n                            },(error)=>{\n                                console.log(error);\n                            });\n                        }\n                    }else if(prop.casecadeChild){\n                        let form=prop.noNeedAllParams?{}:this.form;\n                        if(prop.casecadeChild.otherParam){\n                            form=Object.assign(form,prop.otherParam)\n                        }\n                        let casecadeChild=this.findCasecadeChild(prop.casecadeChild);\n                        if(casecadeChild.extendsProp){\n                            if(casecadeChild.extendsProp instanceof Array){\n                                for(let seq in casecadeChild.extendsProp){\n                                    let key=casecadeChild.extendsProp[seq];\n                                    form[key]=currentSwitchValue;\n                                }\n                            }else{\n                                for(let seq in Object.keys(casecadeChild.extendsProp)){\n                                    let key=Object.keys(casecadeChild.extendsProp)[seq];\n                                    let targetParam=casecadeChild.extendsProp[key];\n                                     console.log(\"key\",key,\"targetParam\",targetParam,this.form[targetParam])\n                                    form[key]=this.form[targetParam];\n                                }\n                            }\n\n                        }\n                        let item=casecadeChild;\n                        this.queryListData({url:item.dataUrl,form:form,httpMethod:item.httpMethod||\"get\"}).then((listData)=>{\n                            if(!listData) return;\n                            let resultData=item.dataHandler?item.dataHandler(listData):listData[item.propValueList];\n                            this.$set(this.dataQuery.query,item.propList,resultData)\n                            this.form[item.prop]=item.defaultValue;\n                            let that=this;\n                            if(item.createFormItem){\n                                Object.keys(that.form).filter(key=>key.indexOf(\"temp_\"+item.prop+\"_\")>=0).forEach(deleteKey=>{\n                                    //console.log(\"deleteKey\",deleteKey)\n                                    delete that.form[deleteKey];\n                                })\n                                Object.keys(that.rules).filter(key=>key.indexOf(\"temp_\"+item.prop+\"_\")>=0).forEach(deleteKey=>{\n                                    //console.log(\"deleteRuleKey\",deleteKey)\n                                    delete that.rules[deleteKey];\n                                })\n                                resultData.forEach(formItem=>{\n                                    formItem.validateProp='temp_'+item.prop+'_'+(formItem.prop||formItem.id);\n                                    that.form[formItem.validateProp]=formItem.defaultValue||formItem.default||'';\n                                    that.setRules(formItem)\n                                })\n                            }\n                            //console.log(\"**** casecadeChild\",casecadeChild,this.dataQuery.query)\n                        },(error)=>{\n                            console.log(error);\n                        });\n                    }else if(prop.extendChild){\n                        console.log(\"prop\",prop)\n                        let form=prop.noNeedAllParams?{}:this.form;\n                        if(prop.casecadeChild.otherParam){\n                            form=Object.assign(form,prop.otherParam)\n                        }\n                        let casecadeChild=prop.extendChild;\n                        if(casecadeChild.dataHandler){\n                            casecadeChild.dataHandler=eval(casecadeChild.dataHandler);\n                        }\n                        if(casecadeChild.extendsProp){\n                            if(casecadeChild.extendsProp instanceof Array){\n                                for(let seq in casecadeChild.extendsProp){\n                                    let key=casecadeChild.extendsProp[seq];\n                                    form[key]=currentSwitchValue;\n                                }\n                            }else{\n                                for(let seq in Object.keys(casecadeChild.extendsProp)){\n                                    let key=Object.keys(casecadeChild.extendsProp)[seq];\n                                    let targetParam=casecadeChild.extendsProp[key];\n                                    console.log(\"key\",key,\"targetParam\",targetParam,this.form[targetParam])\n                                    form[key]=this.form[targetParam];\n                                }\n                            }\n\n                        }\n                        let item=casecadeChild;\n                        this.queryListData({url:item.dataUrl,form:form,httpMethod:item.httpMethod||\"get\"}).then((listData)=>{\n                            if(!listData) return;\n                            let resultData=item.dataHandler?item.dataHandler(listData,prop):listData[item.propValueList];\n                            console.log(\">>>>resultData\",item.prop,resultData)\n                            Object.keys(this.form).filter(key=>key.indexOf(\"temp_\"+item.prop+\"#\")>=0).forEach(deleteKey=>{\n                                //console.log(\"deleteKey\",deleteKey)\n                                delete this.form[deleteKey];\n                            })\n                            Object.keys(this.rules).filter(key=>key.indexOf(\"temp_\"+item.prop+\"#\")>=0).forEach(deleteKey=>{\n                                //console.log(\"deleteRuleKey\",deleteKey)\n                                delete this.rules[deleteKey];\n                            })\n                            resultData.forEach(formItem=>{\n                                this.setRules(formItem)\n                            })\n                            this.$set(this.tempQueryElements,prop.prop,resultData);\n                        },(error)=>{\n                            console.log(error);\n                        });\n                    }\n                }else if(prop.type=\"input\"){\n\n                }else{\n                    alert(\"no operate\")\n                }\n            },\n            findCasecadeChild(elementKey){\n                let result={};\n                for(let j=0;j<this.queryElements.length;j++){\n                    let item=this.queryElements[j];\n                    if(item.prop==elementKey){\n                        result=item;\n                        break;\n                    }\n\n                    if(item.switchElements){\n                        for(let i=0;i<item.switchElements.length;i++){\n                            let innerItem=item.switchElements[i];\n                            if(innerItem.prop == elementKey){\n                                result=innerItem;\n                            }\n                        }\n                    }\n                }\n                return result;\n            },\n            initQueryElement(){\n                /*n 级 级联查询开始*/\n                var form=this.form;\n                if(this.queryElements==null||this.queryElements.length==0) return;\n                var requestUrlParam= [].filter.call(this.queryElements, function (item) {\n                    if(item.dataUrl&&item.initQuery){\n                        return item;\n                    }\n                });\n\n                for(let seq in requestUrlParam){\n                    let item=requestUrlParam[seq];//选择初始化 默认初始化 顶级父元素 和 标记为包含includeInit 属性的 下拉元素\n                    if(item.casecadeParen==null||item.casecadeParen==\"\"||item.includeInit==true){\n                        /*顶级元素优先查询完成一级数据初始化*/\n\n                        let form=item.noNeedAllParams?{}:this.form;//参数是否使用表单\n                        if(item.otherParam){\n                            form=Object.assign(form,item.otherParam)\n                        }\n                        if(item.extendsProp){\n                            if(item.extendsProp instanceof Array){\n                                for(let seq in item.extendsProp){\n                                    let key=item.extendsProp[seq];\n                                    form[key]=this.form[key];\n                                }\n                            }else{\n                                for(let seq in Object.keys(item.extendsProp)){\n                                    let key=Object.keys(item.extendsProp)[seq];\n                                    let targetParam=item.extendsProp[key];\n                                     //console.log(\"key\",key,\"targetParam\",targetParam)\n                                    form[key]=this.form[targetParam];\n                                }\n                            }\n                        }\n\n                        this.queryListData({url:item.dataUrl,form:form,httpMethod:item.httpMethod||\"get\"}).then((listData)=>{\n                            if(!listData) return;\n                            this.$set(this.dataQuery.query,item.propList,item.dataHandler?item.dataHandler(listData):listData[item.propValueList])\n                            this.form[item.prop]=item.defaultValue;\n                            //console.log(\"****\",this.dataQuery.query)\n                        },(error)=>{\n                            console.log(error);\n                        });\n                    }\n                }\n                /*n 级 级联查询结束*/\n                this.queryButtons=this.queryElements.filter(item=>{return item.type=='button'||item.type=='search'});\n            },\n            queryBtnClick(params,btn){\n                console.log(\"queryBtnClick\",params);\n                if(btn.click&& typeof btn.click==\"function\"){\n                    btn.click(params);\n                }else{\n                    if(this.$attrs.clickConfig&& typeof this.$attrs.clickConfig==\"function\"){\n                        this.$attrs.clickConfig(params)\n                    }\n                }\n            },\n            submitForm(formName) {\n                let that=this;\n                this.$refs[formName].validate((valid) => {\n                   // console.log(this.form)\n                    if (valid) {\n                        //alert('submit!');\n                        let config = this.$attrs.config;\n                        let resultData=JSON.parse(JSON.stringify(that.form))\n                        if(config.saveData&&typeof config.saveData==\"function\"){\n                            Object.keys(resultData).filter(key=>key.indexOf(\"temp_\")>=0).forEach(targetKey=>{\n                                /temp_([a-zA-Z]+)_([a-zA-Z_\\d]+)/.exec(targetKey);\n                                if(!resultData[RegExp.$1+'_params']){\n                                    resultData[RegExp.$1+'_params']={};\n                                }\n                                resultData[RegExp.$1+'_params'][RegExp.$2]=resultData[targetKey];\n                                delete resultData[targetKey];\n                                //console.log(\"targetKey\",RegExp.$1,RegExp.$2)\n\n                            })\n                            console.log(\"resultData\",resultData)\n                            config.saveData(resultData);\n                        }\n                        /*this.saveData({\n                            url:'mall/merchant/create.json',\n                            method:'post',\n                            queryParam:this.form\n                        }).then(success=>{\n                            console.log(\"'mall/merchant/create.json' success\",success)\n                        },error=>{\n\n                        });*/\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            cancle(){\n                let config = this.$attrs.config;\n                if(config.cancle&&typeof config.cancle==\"function\"){\n                    config.cancle(this.form);\n                }\n            },\n            resetForm(formName) {\n                this.$refs[formName].resetFields();\n            },\n            setRules(item) {\n                let that = this;\n                let validateRules = item.validateRules; //||[{\"required\":true,maxlength:8,minlength:3}]\n                if (\n                    validateRules == null ||\n                    validateRules == \"\" ||\n                    validateRules == undefined\n                ) {\n                    that.rules[item.validateProp] = [];\n                } else {\n                    //console.log(\"typeof validateRules\",typeof validateRules)\n                    if (typeof validateRules === \"string\") {\n                        validateRules = JSON.parse(validateRules);\n                    }\n                    if (validateRules.length > 0) {\n                        let errorMessageMap = that.validate.errorMessageMap;\n                        let allRuleInOne = {};\n                        let allErrorInOne = {};\n                        let itemValidatorFunctions = [];\n                        validateRules.forEach(rule => {\n                            if (typeof rule.validator === \"function\") {\n                                let wrapValidatorFunction = {\n                                    trigger: rule.trigger || \"change\",\n                                    allErrorInOne: allErrorInOne,\n                                    validator: (validator, value, callback) => {\n                                        let errorMessage = rule.validator(\n                                            validator,\n                                            value,\n                                            callback,\n                                            validate,\n                                            allRuleInOne,\n                                            that.form\n                                        );\n                                        errorMessage &&\n                                        errorMessage.then(data => {\n                                            if (data.code == 1) {\n                                                callback();\n                                            } else {\n                                                callback(\n                                                    new Error(\n                                                        (validator.allErrorInOne &&\n                                                            validator.allErrorInOne[data.errorCode]) ||\n                                                        data.msg\n                                                    )\n                                                );\n                                            }\n                                        });\n                                    }\n                                };\n                                itemValidatorFunctions.push(wrapValidatorFunction);\n                            } else {\n                                Object.keys(rule).forEach(validateItem => {\n                                    let tipMessage = errorMessageMap[validateItem];\n                                    if (typeof tipMessage == \"function\") {\n                                        allErrorInOne[validateItem] = errorMessageMap[validateItem]({\n                                            label: item.label,\n                                            length: rule[validateItem]\n                                        });\n                                    } else {\n                                        //console.log(\"***************\",rule)\n                                        allErrorInOne[validateItem] = errorMessageMap[validateItem];\n                                    }\n                                });\n                                allRuleInOne = Object.assign(allRuleInOne, rule);\n                            }\n                        });\n                        let tempValidator = {\n                            trigger: \"change\",\n                            allErrorInOne: allErrorInOne,\n                            validator: (validator, value, callback) => {\n                                //console.log(\"addInputList\",validator,value)\n                                let errorMessage = validate.validator(\n                                    value,\n                                    allRuleInOne,\n                                    that.form\n                                );\n                                errorMessage.then(data => {\n                                    if (data.code == 1) {\n                                        callback();\n                                    } else {\n                                        callback(\n                                            new Error(\n                                                (validator.allErrorInOne &&\n                                                    validator.allErrorInOne[data.errorCode]) ||\n                                                data.msg\n                                            )\n                                        );\n                                    }\n                                });\n                            }\n                        };\n                        that.rules[item.validateProp || item.prop] = [\n                            allRuleInOne[\"required\"]\n                                ? { required: true, message: allErrorInOne[\"required\"] }\n                                : {},\n                            ...itemValidatorFunctions,\n                            tempValidator\n                        ];\n                    }\n                }\n            },\n            saveAppSuccess(response, file, fileList,queryItem){\n                // console.log(/*response,file,fileList,*/queryItem)\n                let that=this;\n                let successUpload=queryItem.imgUploadConfig&&queryItem.imgUploadConfig.successUpload;\n                if(successUpload&& typeof successUpload == \"function\"){\n                    let checkResult=successUpload(response,file,queryItem,this.form);\n                    if(checkResult){\n                        if(checkResult instanceof Promise){\n                            checkResult.then(success=>{\n                                that.form[queryItem.prop] = success.data;\n                            },error=>{\n                                that.$msgbox(error.msg);\n                                //reject({msg:error.msg});\n                            })\n                        }\n                    }\n                }else{\n                    that.form[queryItem.prop] = response.data.fileUrls[0];\n                }\n                this.$nextTick(function(){\n                    that.loading&&that.loading.close();\n                })\n            },\n            onchangeUpload(data,data2,data3){\n               // console.log(\"onchangeUpload\",data,data2,data3)\n                this.choosedAppIcon=data;\n            },\n            uploadProgress(...params) {\n                //console.log(\"params\",...params)\n            },\n            uploadError(...params) {\n                //console.log(\"params\",...params);\n                let that=this;\n                that.$nextTick(function(){\n                    that.loading&&that.loading.close();\n                })\n                that.$message({\n                    duration:0,\n                    showClose:true,\n                    type:'error',\n                    message:'都是我不好,刚刚上传失败了,可能包太大可能网不好,请你稍后再重试!!'\n                })\n            },\n            beforeIconUpload(file,queryItem) {\n\n                let that=this;\n                //console.log(\"beforeIconUpload\",file,queryItem)\n                return new Promise(function (resolve,reject) {\n                    //console.log(that.choosedAppIcon)\n                    let beforeUpload=queryItem.imgUploadConfig&&queryItem.imgUploadConfig.beforeUpload;\n\n                    if(beforeUpload&& typeof beforeUpload == \"function\"){\n                        let checkResult=beforeUpload(file,queryItem);\n                        if(checkResult){\n                            if(checkResult instanceof Promise){\n                                checkResult.then(success=>{\n                                    resolve({code:1,msg:'success'})\n                                    that.loading = that.$loading({\n                                        lock: true,\n                                        text: 'Loading',\n                                        spinner: 'el-icon-loading',\n                                        background: 'rgba(0, 0, 0, 0.3)'\n                                    });\n                                },error=>{\n                                    that.$msgbox(error.msg);\n                                    reject({msg:error.msg});\n                                })\n                            }\n                        }\n                    }else{\n                        if(!(file.type==\"image/png\"||file.type==\"image/jpg\"||file.type==\"image/jpeg\")){\n                            that.$message.error('请选择.png/jpg/jpeg图片');\n                            reject({msg:\"please choose png image\"});\n                        }\n                    }\n\n                    //console.log(\"beforeIconUpload111\",file,queryItem)\n\n\n                    if(that.choosedAppIcon!=null&&(queryItem.imgUploadConfig&&!queryItem.imgUploadConfig.notImage||queryItem.imgUploadConfig==null)){\n                        let choosedImage=that.choosedAppIcon;\n                       // console.log(\"beforeIconUpload22\",choosedImage)\n\n                        let readResult=new FileReader();\n                        readResult.onload=function(data){\n                            let fileData=data.target.result;\n                            let image=new Image();\n                            image.src=fileData;\n                            image.onload=data=>{\n                                let imageData=data.path&&data.path[0]||data.target;\n                                let imageWidth=imageData.width,imageHeight=imageData.height;\n                                let beforeUploadImageSize=queryItem.imgUploadConfig&&queryItem.imgUploadConfig.beforeUploadImageSize;\n                                if(beforeUploadImageSize&& typeof beforeUploadImageSize == \"function\"){\n                                    let checkResult=beforeUploadImageSize(imageWidth,imageHeight,file,queryItem);\n                                    if(checkResult){\n                                        if(checkResult instanceof Promise){\n                                            return checkResult.then(success=>{\n                                                that.loading = that.$loading({\n                                                    lock: true,\n                                                    text: 'Loading',\n                                                    spinner: 'el-icon-loading',\n                                                    background: 'rgba(0, 0, 0, 0.3)'\n                                                });\n                                                resolve({msg:\"success\"})\n                                            },error=>{\n                                                that.$msgbox(error.msg);\n                                                reject({msg:error.msg});\n                                            })\n                                        }\n                                    }\n                                }else{\n                                    if(!(file.type==\"image/png\"||file.type==\"image/jpg\"||file.type==\"image/jpeg\")){\n                                        that.$message.error('请选择.png/jpg/jpeg图片');\n                                        reject({msg:\"please choose png image\"});\n                                    }\n                                }\n\n                                if(queryItem.imgUploadConfig&&(queryItem.imgUploadConfig.width!=undefined)&&queryItem.imgUploadConfig.height!=undefined&&(imageWidth!=queryItem.imgUploadConfig.width||imageHeight!=queryItem.imgUploadConfig.height)){\n                                    let errorMessage='图片大小必须为'+queryItem.imgUploadConfig.width+'px*'+queryItem.imgUploadConfig.height+'px';\n                                    that.$msgbox(errorMessage);\n                                    reject({msg:errorMessage});\n                                }else{\n                                    that.loading = that.$loading({\n                                        lock: true,\n                                        text: 'Loading',\n                                        spinner: 'el-icon-loading',\n                                        background: 'rgba(0, 0, 0, 0.3)'\n                                    });\n                                    resolve({msg:\"success\"})\n                                }\n                            }\n                        }\n                        readResult.readAsDataURL(file);\n                    }\n                })\n\n            },\n            dataBus(props,data){\n                //console.log(\"************\",props,data)\n                this.form[props.prop]=data&&data.join(\"||||\")||\"\";\n            },\n            initPage(){\n                let that=this;\n\n                let config=this.$attrs.config;\n\n                //console.log(\"*****************initPage*******************\")\n\n                that.readonly=config.readonly||false;\n                this.queryElements=config.queryElements;\n                this.queryElements.forEach(item=>{\n                    //item.readonly=config.readonly||true;\n                    if(item.type=='button'||item.type=='search'){\n\n                    }else if(item.type=='composite'){\n                        item.components.forEach(component=>{\n                            that.$set(that.form,component.prop,component.default||component.defaultValue||'');\n                            that.setRules(component);\n                        })\n                    }else{\n                        that.$set(that.form,item.prop,item.default||item.defaultValue||'');\n                        that.setRules(item);\n                        if(item.switchElements&& item.switchElements instanceof  Array){\n                            item.switchElements.forEach(i=>{\n                                that.$set(that.form,i.prop,i.default||'');\n                                that.setRules(i);\n                            })\n                        }\n                    }\n                    if(item.dataBus){\n                        item.dataBus=that.dataBus;\n                        if(item.type=='addImages'){\n                            item.imagesListConfig.dataBus=that.dataBus;\n                        }\n                    }\n                });\n                this.initQueryElement();\n                let formData=config.formData;\n                if(formData){\n                    Object.keys(formData).forEach(key=>{\n                        that.$set(that.form,key,formData[key]);\n                    })\n                }\n            },\n            groupedStyle(groupElements){\n                let groupStyle=null;\n                groupElements.forEach(item=>{\n                    if(!groupStyle&&item.groupedStyle){\n                        groupStyle=item.groupedStyle;\n                    }\n                })\n                //console.log(\"groupElements\",groupElements)\n                return groupStyle||{border:'1px dashed #eeee',display:'inline-block',width:'80%',marginLeft:'10%',background:'linear-gradient(#67c23a61, #409eff8c)',marginBottom:'0px'};\n            },\n            elementWatch(queryItem){\n                let that=this;\n                if((!queryItem.watch)||Object.keys(queryItem.watch).length==0) return true;//没有观察对象或观察对象没有键值对\n\n                let watchProps=Object.keys(queryItem.watch.watchValue);\n\n                let allCheckResult=watchProps.map(prop=>{\n                    // 如果 观察属性没有配置值 默认展示 {name:null}\n                    // 如果 观察属性map配置值 默认展示 {state:{1:true,2:true,5:true,8:false}}\n                    // 如果 观察属性函数配置值 默认展示 {state:data=>{}}\n                    let propWatchConfig=queryItem.watch.watchValue[prop];\n                    //console.log(prop,\" _.type(propWatchConfig)\",propWatchConfig, _.isMap(propWatchConfig), _.isFunction(propWatchConfig))\n                    if(propWatchConfig){\n                        if(_.isFunction(propWatchConfig)){\n                            return propWatchConfig(prop,that.form,queryItem);\n                        }else{\n                            return propWatchConfig[that.form[prop]]!=true\n                        }\n                    }\n                });\n                return allCheckResult.filter(item=>item==true).length==0\n            },\n        },\n        created() {\n            let that=this;\n            that.initPage();\n\n            this.$watch(\"$attrs.config.queryElements\",function (newValue,oldValue) {\n                that.initPage();\n            },{\n                deep:false\n            })\n\n            this.$watch(\"$attrs.config.formData\",function (newValue,oldValue) {\n                if(newValue){\n                    Object.keys(newValue).forEach(key=>{\n                        that.$set(that.form,key,newValue[key]);\n                    })\n                }\n            },{\n                deep:true\n            })\n        },\n        computed:{\n            elementGroup(){\n                this.$attrs.config.queryElements.map((item,seq)=>{item.order=seq*10000})\n                let allElements=_.flatten(Object.values(this.tempQueryElements)).concat(this.$attrs.config.queryElements);\n                allElements=_.sortBy(allElements,item=>item.order);\n                return _.groupBy(allElements,item=>item.groupedName)\n            },\n            allElement(){\n                /*let allElements=_.flatten(Object.values(this.elementGroup));\n                allElements=_.sortBy(allElements,item=>item.order);\n                let cloneAllElements=_.cloneDeep(allElements);\n\n                cloneAllElements.map(item=>{\n                    Object.keys(item).forEach(key=>{\n                        if(key.indexOf(\"Handler\")){\n                            item[key]=item[key].toString();\n                        }\n                    })\n                })*/\n\n                return [];\n            },\n\n        }\n    }\n</script>\n\n<style>\n    #container {\n        height: 300px;\n        width:800px;\n    }\n\n    .queryElement{\n        display: block;\n        width: 100%;\n        border:0px solid #f00;\n    }\n\n    .tableClass{\n        width: 1060px;\n        display: inline-block;\n    }\n    .searchContainer{\n        text-align: left;\n    }\n    .readonlyContainer .searchContainer{\n        margin: 0px 10%;\n        padding: 40px 10px;\n        border: 1px dotted #ecf5ff;\n        border-radius: 5px;\n        text-align: left;\n    }\n    .readonlyContainer .searchContainer .el-form-item{\n        border-bottom: 1px solid #ecf5ff;\n        padding-bottom: 20px;\n    }\n    .readonlyContainer .el-form > div.el-form-item{\n        border-bottom: 0px solid #ecf5ff;\n        padding-top: 50px;\n    }\n    .readonlyContainer .el-form-item__content{\n        color:#909399;\n    }\n    .readonlyContainer input[disabled='disabled'][type='text'] {\n        background-color: #eef1f6!important;\n        border-color: #d1dbe5!important;\n        color: #24252f;\n        cursor: not-allowed;\n        border: 0px solid #f00!important;\n        background: #fff!important;\n    }\n    .readonlyContainer .el-input__suffix,.readonlyContainer .el-upload__tip{\n        display: none!important;\n    }\n    .readonlyContainer .el-form-item__label{\n        font-weight: bold;\n        padding-right: 5px;\n    }\n    .tipMessage{\n        display: inline-block;font-size: 12px;padding-left: 15px;color:#50bfff;\n    }\n\n    .composite{\n        display: inline-block;\n        width: 100%;\n    }\n    .composite .el-form-item{\n        position: relative;\n        display: inline-block;\n    }\n    .composite .el-form-item:nth-child(2) .el-form-item__content{\n        margin-left: 0px!important;\n    }\n    .composite .el-input, .composite .el-input__inner{\n        width: auto!important;\n    }\n\n    .h1Lable .el-form-item__label{\n        font-size: 34px;\n    }\n    .h2Lable .el-form-item__label{\n        font-size: 30px;\n    }\n    .h3Lable .el-form-item__label{\n        font-size: 18px;\n    }\n    .is-disabled .el-icon-caret-top{\n        display: none;\n    }\n    .hideTime input[placeholder=\"结束时间\"]{\n        display: none;\n    }\n    .editorOperateContainer{\n        display: none;\n    }\n    .editorModule:hover .editorOperateContainer{\n        display: flex;\n        position: absolute;\n        right: 10px;\n        text-align: right;\n        width: 200px;\n        height: 100%;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 14px;\n        z-index: 1;\n    }\n\n    .editorOperateContainer>span{\n        cursor: pointer;\n        font-size: 13px;\n    }\n</style>\n"],"sourceRoot":"src/components/formCreater"}]}