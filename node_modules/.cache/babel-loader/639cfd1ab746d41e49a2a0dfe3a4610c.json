{"remainingRequest":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/babel-loader/lib/index.js!/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/src/components/tableList/tableQueryParamComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/src/components/tableList/tableQueryParamComponent.vue","mtime":1553656260042},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _Object$keys from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/object/keys\";\nimport _Promise from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/promise\";\nimport _JSON$stringify from \"/Users/iriskang/xkfeng/formAndTableCreater/vue-form-table-creater/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport backendService from \"../remoteService/backendService\";\nimport _ from \"lodash\";\nexport default {\n  name: \"table-query-param\",\n  data: function data() {\n    return {\n      queryElements: [],\n      dataQuery: {\n        query: {}\n      },\n      readonly: {},\n      queryParam: {},\n      watchMap: {},\n      context: null\n    };\n  },\n  methods: {\n    queryListData: function queryListData(params) {\n      var requestParam = JSON.parse(_JSON$stringify(params.queryParam)) || {};\n      delete requestParam[\"timeRange\"];\n      return backendService.getData({\n        url: params.url,\n        method: params.method || \"post\",\n        data: requestParam\n      }).then(function (result) {\n        return _Promise.resolve(result);\n      });\n    },\n    changeQueryParam: function changeQueryParam(data, operate) {\n      var that = this;\n      this.$nextTick(function () {\n        that.changeHelp(data, operate);\n      });\n    },\n    changeHelp: function changeHelp(prop) {\n      var that = this;\n      var currentSwitchValue = this.queryParam[prop.prop];\n      var watchElements = this.watchMap[prop.prop] || {};\n      if (_Object$keys(watchElements).length == 0 && prop.type != \"tab\") return;\n      that.initElementsPromise(watchElements, currentSwitchValue, prop).then(function (success) {\n        console.log(\"changeHelp success**** ---\", success);\n\n        if (prop.type == \"tab\") {\n          that.$parent.fresh();\n        }\n      }, function (error) {\n        console.log(\"changeHelp error **** ---\", error);\n      });\n    },\n    restoreQueryParam: function restoreQueryParam() {\n      var that = this;\n      that.dataQuery.query = {};\n      this.queryParam = {};\n      this.initQueryElementPromise().then(function (success) {\n        console.log(\"restoreQueryParam  ---> success--->\", success);\n      }, function (error) {\n        console.log(\"restoreQueryParam  ---> error--->\", error);\n      });\n    },\n    getElement: function getElement(prop) {\n      var elementItem = {};\n      this.queryElements.forEach(function (item) {\n        if (item.prop == prop) {\n          elementItem = item;\n        }\n      });\n      return elementItem;\n    },\n    initQueryElementPromise: function initQueryElementPromise() {\n      var that = this;\n      var watchMap = {};\n      /*n 级 级联查询开始*/\n\n      if (this.queryElements == null || this.queryElements.length == 0) return _Promise.resolve({\n        code: 1,\n        msg: \"no elements need init!\"\n      });\n      var requestUrlParam = [].filter.call(this.queryElements, function (item) {\n        /*发现关联关系 当值被观察的时候有变动会处理级联变动的相关元素 最常见是为 tab切换做相关下来元素的初始化*/\n        if (item.watch && item.watch.props && item.watch.props.length) {\n          item.watch.props.forEach(function (watchKey) {\n            if (watchMap[watchKey]) {\n              watchMap[watchKey][item.prop] = item;\n            } else {\n              var tempKeyMap = {};\n              tempKeyMap[item.prop] = item;\n              watchMap[watchKey] = tempKeyMap;\n            }\n          });\n        }\n        /*兼容之前老版本 start*/\n\n\n        if (item.casecadeChild) {\n          if (watchMap[item.prop]) {\n            watchMap[item.prop][item.casecadeChild] = that.getElement(item.casecadeChild);\n          } else {\n            var tempKeyMap = {};\n            tempKeyMap[item.casecadeChild] = that.getElement(item.casecadeChild);\n            watchMap[item.prop] = tempKeyMap;\n          }\n        }\n\n        if (item.casecadeGrandsonList) {\n          item.casecadeGrandsonList.forEach(function (childElementProp) {\n            if (watchMap[item.prop]) {\n              if (!watchMap[item.prop][childElementProp]) {\n                watchMap[item.prop][childElementProp] = that.getElement(childElementProp);\n              }\n            } else {\n              var _tempKeyMap = {};\n              _tempKeyMap[childElementProp] = that.getElement(childElementProp);\n              watchMap[item.prop] = _tempKeyMap;\n            }\n          });\n        }\n\n        if (item.casecadeParen) {\n          if (watchMap[item.casecadeParen]) {\n            watchMap[item.casecadeParen][item.prop] = item;\n          } else {\n            var _tempKeyMap2 = {};\n            _tempKeyMap2[item.prop] = item;\n            watchMap[item.casecadeParen] = _tempKeyMap2;\n          }\n        }\n        /*兼容之前老版本 end*/\n\n\n        if (item.dataUrl && item.initQuery) {\n          that.$set(that.queryParam, item.prop, item.defaultValue || item.value);\n          return item;\n        } else {\n          if (!(item.type == \"search\" || item.type == \"button\" || item.prop == \"deleteProps\")) {\n            that.$set(that.queryParam, item.prop, item.defaultValue || item.value);\n          }\n        }\n      });\n      that.$set(that, \"watchMap\", watchMap);\n      var promiseList = [];\n\n      var _loop = function _loop(seq) {\n        var initElementPromise = new _Promise(function (resolve, reject) {\n          var item = requestUrlParam[seq];\n\n          if (item.casecadeParen == null || item.casecadeParen == \"\" || item.includeInit == true) {\n            var submitParam = JSON.parse(_JSON$stringify(that.queryParam));\n\n            if (submitParam.timeRange) {\n              submitParam[\"startTime\"] = that.queryParam.timeRange[0] || \"\";\n              submitParam[\"endTime\"] = that.queryParam.timeRange[1] || \"\";\n            }\n\n            if (that.queryParam.deleteProps) {\n              console.log(that.queryParam.deleteProps);\n              that.queryParam.deleteProps.forEach(function (item) {\n                delete submitParam[item];\n              });\n              delete submitParam[\"deleteProps\"];\n            }\n\n            if (item.watchParams) {\n              _Object$keys(item.watchParams).forEach(function (key) {\n                submitParam[key] = that.readonly[key] || that.queryParam[key] || \"\";\n              });\n            }\n\n            if (item.otherParams) {\n              _Object$keys(item.otherParams).forEach(function (key) {\n                submitParam[key] = item.otherParams[key] || \"\";\n              });\n            }\n            /*顶级元素优先查询完成一级数据初始化*/\n\n\n            that.queryListData({\n              url: item.dataUrl,\n              queryParam: submitParam,\n              method: item.httpMethod || \"get\"\n            }).then(function (listData) {\n              if (!listData) return resolve({\n                url: item.dataUrl,\n                data: listData\n              });\n              that.$set(that.dataQuery.query, item.propList, item.dataHandler ? item.dataHandler(listData) : listData[item.propValueList]);\n              that.$set(that.queryParam, item.prop, item.defaultValue);\n              resolve({\n                url: item.dataUrl,\n                data: listData\n              }); //console.log(\"****\",this.dataQuery.query)\n            }, function (error) {\n              console.log(error);\n              reject({\n                url: item.dataUrl,\n                error: error\n              });\n            });\n          }\n        });\n        promiseList.push(initElementPromise);\n      };\n\n      for (var seq in requestUrlParam) {\n        _loop(seq);\n      }\n\n      return _Promise.all(promiseList);\n    },\n    initElementsPromise: function initElementsPromise(elements, currentSwitchValue, parentElement) {\n      /*被关注的元素值发生变动执行的初始化操作*/\n      var that = this;\n      var promiseList = [];\n\n      var _loop2 = function _loop2(seq) {\n        var initElementPromise = new _Promise(function (resolve, reject) {\n          var item = elements[seq];\n\n          if (item) {\n            var defaultPrevent = {};\n            defaultPrevent[parentElement.prop] = \"\";\n            item.preventRequestValue = item.preventRequestValue ? item.preventRequestValue : defaultPrevent;\n\n            if (item.preventRequestValue) {\n              var keys = _Object$keys(item.preventRequestValue);\n\n              if (keys.length) {\n                var preventKeys = keys.filter(function (key) {\n                  return that.queryParam[key] == item.preventRequestValue[key];\n                });\n\n                if (preventKeys.length) {\n                  var listData = [];\n                  that.$set(that.dataQuery.query, item.propList, listData);\n                  that.$set(that.queryParam, item.prop, item.defaultValue);\n                  resolve({\n                    url: item.dataUrl,\n                    data: listData\n                  });\n                  return;\n                }\n              }\n            }\n\n            var submitParam = JSON.parse(_JSON$stringify(that.queryParam));\n\n            if (submitParam.timeRange) {\n              submitParam[\"startTime\"] = that.queryParam.timeRange[0] || \"\";\n              submitParam[\"endTime\"] = that.queryParam.timeRange[1] || \"\";\n            }\n\n            if (item.deleteProps) {\n              console.log(item.deleteProps);\n              item.deleteProps.forEach(function (item) {\n                delete submitParam[item];\n              });\n              delete submitParam[\"deleteProps\"];\n            }\n\n            if (item.watchParams) {\n              _Object$keys(item.watchParams).forEach(function (key) {\n                submitParam[key] = that.readonly[key] || that.queryParam[key] || \"\";\n              });\n            }\n\n            for (var key in item.dropProps) {\n              delete submitParam[item.dropProps[key]];\n            } //console.log(\"item\",item)\n\n\n            if (item.watch && item.watch.watchValue) {\n              // console.log(\"needInitSelected.watch.watchValue\",item.watch.watchValue)\n              _Object$keys(item.watch.watchValue).forEach(function (key) {\n                submitParam[key] = that.readonly[key] || submitParam[key] || \"\";\n              });\n            }\n\n            if (item.otherParams) {\n              _Object$keys(item.otherParams).forEach(function (key) {\n                submitParam[key] = item.otherParams[key] || \"\";\n              });\n            }\n\n            if (item.extendsProp) {\n              for (var _seq in item.extendsProp) {\n                submitParam[item.extendsProp[_seq]] = currentSwitchValue;\n              }\n            }\n\n            if (!item.dataUrl) {\n              that.$set(that.queryParam, item.prop, item.defaultValue);\n              resolve({\n                url: item.dataUrl,\n                data: {}\n              });\n              return;\n            }\n            /*顶级元素优先查询完成一级数据初始化*/\n\n\n            that.queryListData({\n              url: item.dataUrl,\n              queryParam: submitParam,\n              method: item.httpMethod || \"get\"\n            }).then(function (listData) {\n              if (!listData) return resolve({\n                url: item.dataUrl,\n                data: listData\n              });\n              that.$set(that.dataQuery.query, item.propList, item.dataHandler ? item.dataHandler(listData) : listData[item.propValueList]);\n              that.$set(that.queryParam, item.prop, item.defaultValue);\n              resolve({\n                url: item.dataUrl,\n                data: listData\n              }); //console.log(\"****\",this.dataQuery.query)\n            }, function (error) {\n              console.log(error);\n              reject({\n                url: item.dataUrl,\n                error: error\n              });\n            });\n          }\n        });\n        promiseList.push(initElementPromise);\n      };\n\n      for (var seq in elements) {\n        _loop2(seq);\n      }\n\n      return _Promise.all(promiseList);\n    },\n    queryBtnClick: function queryBtnClick(params, btn) {\n      var _console,\n          _this = this;\n\n      for (var _len = arguments.length, otherParams = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        otherParams[_key - 2] = arguments[_key];\n      }\n\n      var that = this;\n\n      (_console = console).log.apply(_console, [\"queryBtnClick\", params, btn].concat(otherParams));\n\n      if (!params.timeRange) {\n        params.timeRange = [\"\", \"\"];\n      }\n\n      if (btn.type == \"tab\" && btn.needReinit) {\n        //this.initQueryElement();\n        this.$nextTick(function (data) {\n          console.log(\"queryBtnClick\", params, btn);\n\n          _this.reInitQueryElement();\n        });\n      }\n\n      if (btn.click && typeof btn.click == \"function\") {\n        if (btn.check && typeof btn.check == \"function\") {\n          var checkResult = btn.check.apply(btn, [params, btn, this.dataQuery.query].concat(otherParams));\n\n          if (checkResult instanceof _Promise) {\n            checkResult.then(function (success) {\n              btn.click.apply(btn, [success.params, btn].concat(otherParams));\n            }, function (error) {\n              btn.errorTip && typeof btn.errorTip === \"function\" && btn.errorTip();\n              console.log(\"验证失败 不搜索!调用错误提示方法\"); //btn.click(params,btn);\n            });\n          } else if (checkResult) {\n            //console.log(\"checkResult\",checkResult)\n            btn.click.apply(btn, [checkResult.params, btn, this.dataQuery.query].concat(otherParams));\n          } else {\n            console.error(\"验证没有返回,请返回 {params:参数对象} 或 Promise对象\");\n            that.$message({\n              type: \"error\",\n              message: \"验证没有返回 不请求 请查看控制台帮助..\"\n            });\n          }\n        } else {\n          btn.click.apply(btn, [params, btn].concat(otherParams));\n        }\n      } else {\n        if (this.$attrs.clickConfig && typeof this.$attrs.clickConfig == \"function\") {\n          if (btn.check && typeof btn.check == \"function\") {\n            var _checkResult = btn.check.apply(btn, [params, btn].concat(otherParams));\n\n            if (_checkResult instanceof _Promise) {\n              _checkResult.then(function (success) {\n                var _this$$attrs;\n\n                _this.$parent.$emit(_this.$attrs.queryConfig.listenerId, success.params);\n\n                (_this$$attrs = _this.$attrs).clickConfig.apply(_this$$attrs, [success.params, btn, that.queryParam].concat(otherParams));\n              }, function (error) {\n                if (btn.errorTip && typeof btn.errorTip === \"function\") {\n                  btn.errorTip();\n                } else {\n                  _this.$message({\n                    type: \"error\",\n                    message: error.msg\n                  });\n                }\n\n                console.log(\"验证失败 不搜索!调用错误提示方法\"); //btn.click(params,btn);\n              });\n            } else if (_checkResult) {\n              var _this$$attrs2;\n\n              console.log(\"checkResult***************\", _checkResult.params); //this.$parent.$emit(this.$attrs.queryConfig.listenerId,checkResult.params)\n\n              (_this$$attrs2 = this.$attrs).clickConfig.apply(_this$$attrs2, [_checkResult.params, btn, that.queryParam].concat(otherParams));\n            } else {\n              console.error(\"验证没有返回,请返回 {params:参数对象} 或 Promise对象\");\n              that.$message({\n                type: \"error\",\n                message: \"验证没有返回 不请求 请查看控制台帮助..\"\n              });\n            }\n          } else {\n            var _this$$attrs3;\n\n            //this.$parent.$emit(this.$attrs.queryConfig.listenerId,params,btn)\n            (_this$$attrs3 = this.$attrs).clickConfig.apply(_this$$attrs3, [params, btn, that.queryParam].concat(otherParams));\n          }\n        }\n      }\n    },\n    initPage: function initPage() {\n      var that = this;\n      /*挑选出需要初始化的查询元素 组合成promise.all 排序依赖元素*/\n\n      that.readonly = this.$attrs.readData || {};\n      this.queryElements = that.$attrs.queryConfig.queryElements; //静态值和动态值均已初始化完毕 可以调用table 进行数据查询了\n\n      that.initQueryElementPromise().then(function (success) {\n        console.log(\"params init success  page init first\", success);\n        that.$parent.fresh();\n      }, function (error) {\n        console.log(\"error\", error);\n      });\n      that.$watch(\"$attrs.queryConfig.queryElements\", function (newValue, oldValue) {\n        that.$set(that, \"queryElements\", newValue);\n        that.$nextTick(function () {\n          that.restoreQueryParam();\n        });\n      }, {\n        deep: true\n      });\n    },\n    groupedStyle: function groupedStyle(groupElements) {\n      var groupStyle = null;\n      groupElements.forEach(function (item) {\n        if (!groupStyle && item.groupedStyle) {\n          groupStyle = item.groupedStyle;\n        }\n      });\n      console.log(\"groupElements\", groupElements);\n      return groupStyle || {};\n    }\n  },\n  created: function created() {\n    this.initPage();\n  },\n  watch: {\n    $route: function $route(to, from) {//console.log(\"this.$route.params\",this.$route.params)\n      //this.initPage();\n    }\n  },\n  computed: {\n    groupedElements: function groupedElements() {\n      return _.groupBy(this.$attrs.queryConfig.queryElements, function (item) {\n        return item.groupName;\n      }) || {};\n    }\n  }\n};",{"version":3,"sources":["tableQueryParamComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA,OAAA,cAAA,MAAA,iCAAA;AACA,OAAA,CAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OAFA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,UAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,OAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,MADA,EACA;AACA,UAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,gBAAA,MAAA,CAAA,UAAA,CAAA,KAAA,EAAA;AACA,aAAA,YAAA,CAAA,WAAA,CAAA;AACA,aAAA,cAAA,CACA,OADA,CACA;AACA,QAAA,GAAA,EAAA,MAAA,CAAA,GADA;AAEA,QAAA,MAAA,EAAA,MAAA,CAAA,MAAA,IAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OADA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,eAAA,SAAA,OAAA,CAAA,MAAA,CAAA;AACA,OARA,CAAA;AASA,KAbA;AAcA,IAAA,gBAAA,EAAA,0BAAA,IAAA,EAAA,OAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,IAAA,CAAA,UAAA,CAAA,IAAA,EAAA,OAAA;AACA,OAFA;AAGA,KAnBA;AAoBA,IAAA,UApBA,sBAoBA,IApBA,EAoBA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,kBAAA,GAAA,KAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,aAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,IAAA,KAAA,EAAA;AACA,UAAA,aAAA,aAAA,EAAA,MAAA,IAAA,CAAA,IAAA,IAAA,CAAA,IAAA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,CAAA,mBAAA,CAAA,aAAA,EAAA,kBAAA,EAAA,IAAA,EAAA,IAAA,CACA,UAAA,OAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,4BAAA,EAAA,OAAA;;AACA,YAAA,IAAA,CAAA,IAAA,IAAA,KAAA,EAAA;AACA,UAAA,IAAA,CAAA,OAAA,CAAA,KAAA;AACA;AACA,OANA,EAOA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2BAAA,EAAA,KAAA;AACA,OATA;AAWA,KApCA;AAqCA,IAAA,iBArCA,+BAqCA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,SAAA,CAAA,KAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,uBAAA,GAAA,IAAA,CACA,UAAA,OAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,qCAAA,EAAA,OAAA;AACA,OAHA,EAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,mCAAA,EAAA,KAAA;AACA,OANA;AAQA,KAjDA;AAmDA,IAAA,UAnDA,sBAmDA,IAnDA,EAmDA;AACA,UAAA,WAAA,GAAA,EAAA;AACA,WAAA,aAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,UAAA,WAAA,GAAA,IAAA;AACA;AACA,OAJA;AAKA,aAAA,WAAA;AACA,KA3DA;AA6DA,IAAA,uBA7DA,qCA6DA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,QAAA,GAAA,EAAA;AACA;;AACA,UAAA,KAAA,aAAA,IAAA,IAAA,IAAA,KAAA,aAAA,CAAA,MAAA,IAAA,CAAA,EACA,OAAA,SAAA,OAAA,CAAA;AAAA,QAAA,IAAA,EAAA,CAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA,CAAA;AACA,UAAA,eAAA,GAAA,GAAA,MAAA,CAAA,IAAA,CAAA,KAAA,aAAA,EAAA,UAAA,IAAA,EAAA;AACA;AACA,YAAA,IAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,EAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,UAAA,QAAA,EAAA;AACA,gBAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,cAAA,QAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,IAAA,IAAA,IAAA;AACA,aAFA,MAEA;AACA,kBAAA,UAAA,GAAA,EAAA;AACA,cAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,IAAA;AACA,cAAA,QAAA,CAAA,QAAA,CAAA,GAAA,UAAA;AACA;AACA,WARA;AASA;AAEA;;;AACA,YAAA,IAAA,CAAA,aAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,aAAA,IAAA,IAAA,CAAA,UAAA,CACA,IAAA,CAAA,aADA,CAAA;AAGA,WAJA,MAIA;AACA,gBAAA,UAAA,GAAA,EAAA;AACA,YAAA,UAAA,CAAA,IAAA,CAAA,aAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CACA,IAAA,CAAA,aADA,CAAA;AAGA,YAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,UAAA;AACA;AACA;;AAEA,YAAA,IAAA,CAAA,oBAAA,EAAA;AACA,UAAA,IAAA,CAAA,oBAAA,CAAA,OAAA,CAAA,UAAA,gBAAA,EAAA;AACA,gBAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,kBAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,gBAAA,CAAA,EAAA;AACA,gBAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,gBAAA,IAAA,IAAA,CAAA,UAAA,CACA,gBADA,CAAA;AAGA;AACA,aANA,MAMA;AACA,kBAAA,WAAA,GAAA,EAAA;AACA,cAAA,WAAA,CAAA,gBAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CAAA,gBAAA,CAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,WAAA;AACA;AACA,WAZA;AAaA;;AAEA,YAAA,IAAA,CAAA,aAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,aAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,aAAA,CAAA,CAAA,IAAA,CAAA,IAAA,IAAA,IAAA;AACA,WAFA,MAEA;AACA,gBAAA,YAAA,GAAA,EAAA;AACA,YAAA,YAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,IAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,aAAA,CAAA,GAAA,YAAA;AACA;AACA;AAEA;;;AAEA,YAAA,IAAA,CAAA,OAAA,IAAA,IAAA,CAAA,SAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,CACA,IAAA,CAAA,UADA,EAEA,IAAA,CAAA,IAFA,EAGA,IAAA,CAAA,YAAA,IAAA,IAAA,CAAA,KAHA;AAKA,iBAAA,IAAA;AACA,SAPA,MAOA;AACA,cACA,EACA,IAAA,CAAA,IAAA,IAAA,QAAA,IACA,IAAA,CAAA,IAAA,IAAA,QADA,IAEA,IAAA,CAAA,IAAA,IAAA,aAHA,CADA,EAMA;AACA,YAAA,IAAA,CAAA,IAAA,CACA,IAAA,CAAA,UADA,EAEA,IAAA,CAAA,IAFA,EAGA,IAAA,CAAA,YAAA,IAAA,IAAA,CAAA,KAHA;AAKA;AACA;AACA,OA/EA,CAAA;AAgFA,MAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,UAAA,EAAA,QAAA;AAEA,UAAA,WAAA,GAAA,EAAA;;AAxFA,iCA0FA,GA1FA;AA2FA,YAAA,kBAAA,GAAA,aAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,cAAA,IAAA,GAAA,eAAA,CAAA,GAAA,CAAA;;AACA,cACA,IAAA,CAAA,aAAA,IAAA,IAAA,IACA,IAAA,CAAA,aAAA,IAAA,EADA,IAEA,IAAA,CAAA,WAAA,IAAA,IAHA,EAIA;AACA,gBAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,gBAAA,IAAA,CAAA,UAAA,CAAA,CAAA;;AACA,gBAAA,WAAA,CAAA,SAAA,EAAA;AACA,cAAA,WAAA,CAAA,WAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CAAA,SAAA,CAAA,CAAA,KAAA,EAAA;AACA,cAAA,WAAA,CAAA,SAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CAAA,SAAA,CAAA,CAAA,KAAA,EAAA;AACA;;AAEA,gBAAA,IAAA,CAAA,UAAA,CAAA,WAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,UAAA,CAAA,WAAA;AACA,cAAA,IAAA,CAAA,UAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,uBAAA,WAAA,CAAA,IAAA,CAAA;AACA,eAFA;AAGA,qBAAA,WAAA,CAAA,aAAA,CAAA;AACA;;AACA,gBAAA,IAAA,CAAA,WAAA,EAAA;AACA,2BAAA,IAAA,CAAA,WAAA,EAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,WAAA,CAAA,GAAA,CAAA,GACA,IAAA,CAAA,QAAA,CAAA,GAAA,KAAA,IAAA,CAAA,UAAA,CAAA,GAAA,CAAA,IAAA,EADA;AAEA,eAHA;AAIA;;AAEA,gBAAA,IAAA,CAAA,WAAA,EAAA;AACA,2BAAA,IAAA,CAAA,WAAA,EAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,WAAA,CAAA,GAAA,CAAA,GAAA,IAAA,CAAA,WAAA,CAAA,GAAA,KAAA,EAAA;AACA,eAFA;AAGA;AAEA;;;AACA,YAAA,IAAA,CACA,aADA,CACA;AACA,cAAA,GAAA,EAAA,IAAA,CAAA,OADA;AAEA,cAAA,UAAA,EAAA,WAFA;AAGA,cAAA,MAAA,EAAA,IAAA,CAAA,UAAA,IAAA;AAHA,aADA,EAMA,IANA,CAOA,UAAA,QAAA,EAAA;AACA,kBAAA,CAAA,QAAA,EACA,OAAA,OAAA,CAAA;AAAA,gBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,CAAA;AACA,cAAA,IAAA,CAAA,IAAA,CACA,IAAA,CAAA,SAAA,CAAA,KADA,EAEA,IAAA,CAAA,QAFA,EAGA,IAAA,CAAA,WAAA,GACA,IAAA,CAAA,WAAA,CAAA,QAAA,CADA,GAEA,QAAA,CAAA,IAAA,CAAA,aAAA,CALA;AAOA,cAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,cAAA,OAAA,CAAA;AAAA,gBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,CAAA,CAXA,CAYA;AACA,aApBA,EAqBA,UAAA,KAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,cAAA,MAAA,CAAA;AAAA,gBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,gBAAA,KAAA,EAAA;AAAA,eAAA,CAAA;AACA,aAxBA;AA0BA;AACA,SA7DA,CAAA;AA8DA,QAAA,WAAA,CAAA,IAAA,CAAA,kBAAA;AAzJA;;AA0FA,WAAA,IAAA,GAAA,IAAA,eAAA,EAAA;AAAA,cAAA,GAAA;AAgEA;;AACA,aAAA,SAAA,GAAA,CAAA,WAAA,CAAA;AACA,KAzNA;AA2NA,IAAA,mBA3NA,+BA2NA,QA3NA,EA2NA,kBA3NA,EA2NA,aA3NA,EA2NA;AACA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,WAAA,GAAA,EAAA;;AAHA,mCAIA,GAJA;AAKA,YAAA,kBAAA,GAAA,aAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,cAAA,IAAA,GAAA,QAAA,CAAA,GAAA,CAAA;;AACA,cAAA,IAAA,EAAA;AACA,gBAAA,cAAA,GAAA,EAAA;AACA,YAAA,cAAA,CAAA,aAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AACA,YAAA,IAAA,CAAA,mBAAA,GAAA,IAAA,CAAA,mBAAA,GACA,IAAA,CAAA,mBADA,GAEA,cAFA;;AAGA,gBAAA,IAAA,CAAA,mBAAA,EAAA;AACA,kBAAA,IAAA,GAAA,aAAA,IAAA,CAAA,mBAAA,CAAA;;AACA,kBAAA,IAAA,CAAA,MAAA,EAAA;AACA,oBAAA,WAAA,GAAA,IAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,yBAAA,IAAA,CAAA,UAAA,CAAA,GAAA,KAAA,IAAA,CAAA,mBAAA,CAAA,GAAA,CAAA;AACA,iBAFA,CAAA;;AAIA,oBAAA,WAAA,CAAA,MAAA,EAAA;AACA,sBAAA,QAAA,GAAA,EAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,QAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,kBAAA,OAAA,CAAA;AAAA,oBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA,CAAA;AACA;AACA;AACA;AACA;;AAEA,gBAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,gBAAA,IAAA,CAAA,UAAA,CAAA,CAAA;;AACA,gBAAA,WAAA,CAAA,SAAA,EAAA;AACA,cAAA,WAAA,CAAA,WAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CAAA,SAAA,CAAA,CAAA,KAAA,EAAA;AACA,cAAA,WAAA,CAAA,SAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CAAA,SAAA,CAAA,CAAA,KAAA,EAAA;AACA;;AAEA,gBAAA,IAAA,CAAA,WAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,WAAA;AACA,cAAA,IAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,uBAAA,WAAA,CAAA,IAAA,CAAA;AACA,eAFA;AAGA,qBAAA,WAAA,CAAA,aAAA,CAAA;AACA;;AAEA,gBAAA,IAAA,CAAA,WAAA,EAAA;AACA,2BAAA,IAAA,CAAA,WAAA,EAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,WAAA,CAAA,GAAA,CAAA,GACA,IAAA,CAAA,QAAA,CAAA,GAAA,KAAA,IAAA,CAAA,UAAA,CAAA,GAAA,CAAA,IAAA,EADA;AAEA,eAHA;AAIA;;AAEA,iBAAA,IAAA,GAAA,IAAA,IAAA,CAAA,SAAA,EAAA;AACA,qBAAA,WAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA;AACA,aA9CA,CA+CA;;;AAEA,gBAAA,IAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,CAAA,UAAA,EAAA;AACA;AACA,2BAAA,IAAA,CAAA,KAAA,CAAA,UAAA,EAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,WAAA,CAAA,GAAA,CAAA,GAAA,IAAA,CAAA,QAAA,CAAA,GAAA,KAAA,WAAA,CAAA,GAAA,CAAA,IAAA,EAAA;AACA,eAFA;AAGA;;AAEA,gBAAA,IAAA,CAAA,WAAA,EAAA;AACA,2BAAA,IAAA,CAAA,WAAA,EAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,WAAA,CAAA,GAAA,CAAA,GAAA,IAAA,CAAA,WAAA,CAAA,GAAA,KAAA,EAAA;AACA,eAFA;AAGA;;AAEA,gBAAA,IAAA,CAAA,WAAA,EAAA;AACA,mBAAA,IAAA,IAAA,IAAA,IAAA,CAAA,WAAA,EAAA;AACA,gBAAA,WAAA,CAAA,IAAA,CAAA,WAAA,CAAA,IAAA,CAAA,CAAA,GAAA,kBAAA;AACA;AACA;;AAEA,gBAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,cAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,cAAA,OAAA,CAAA;AAAA,gBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,CAAA;AACA;AACA;AAEA;;;AACA,YAAA,IAAA,CACA,aADA,CACA;AACA,cAAA,GAAA,EAAA,IAAA,CAAA,OADA;AAEA,cAAA,UAAA,EAAA,WAFA;AAGA,cAAA,MAAA,EAAA,IAAA,CAAA,UAAA,IAAA;AAHA,aADA,EAMA,IANA,CAOA,UAAA,QAAA,EAAA;AACA,kBAAA,CAAA,QAAA,EACA,OAAA,OAAA,CAAA;AAAA,gBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,CAAA;AACA,cAAA,IAAA,CAAA,IAAA,CACA,IAAA,CAAA,SAAA,CAAA,KADA,EAEA,IAAA,CAAA,QAFA,EAGA,IAAA,CAAA,WAAA,GACA,IAAA,CAAA,WAAA,CAAA,QAAA,CADA,GAEA,QAAA,CAAA,IAAA,CAAA,aAAA,CALA;AAOA,cAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,cAAA,OAAA,CAAA;AAAA,gBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,CAAA,CAXA,CAYA;AACA,aApBA,EAqBA,UAAA,KAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,cAAA,MAAA,CAAA;AAAA,gBAAA,GAAA,EAAA,IAAA,CAAA,OAAA;AAAA,gBAAA,KAAA,EAAA;AAAA,eAAA,CAAA;AACA,aAxBA;AA0BA;AACA,SAxGA,CAAA;AAyGA,QAAA,WAAA,CAAA,IAAA,CAAA,kBAAA;AA9GA;;AAIA,WAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AAAA,eAAA,GAAA;AA2GA;;AACA,aAAA,SAAA,GAAA,CAAA,WAAA,CAAA;AACA,KA5UA;AA8UA,IAAA,aA9UA,yBA8UA,MA9UA,EA8UA,GA9UA,EA8UA;AAAA;AAAA;;AAAA,wCAAA,WAAA;AAAA,QAAA,WAAA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;;AACA,kBAAA,OAAA,EAAA,GAAA,kBAAA,eAAA,EAAA,MAAA,EAAA,GAAA,SAAA,WAAA;;AACA,UAAA,CAAA,MAAA,CAAA,SAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AACA;;AAEA,UAAA,GAAA,CAAA,IAAA,IAAA,KAAA,IAAA,GAAA,CAAA,UAAA,EAAA;AACA;AACA,aAAA,SAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,MAAA,EAAA,GAAA;;AACA,UAAA,KAAA,CAAA,kBAAA;AACA,SAHA;AAIA;;AAEA,UAAA,GAAA,CAAA,KAAA,IAAA,OAAA,GAAA,CAAA,KAAA,IAAA,UAAA,EAAA;AACA,YAAA,GAAA,CAAA,KAAA,IAAA,OAAA,GAAA,CAAA,KAAA,IAAA,UAAA,EAAA;AACA,cAAA,WAAA,GAAA,GAAA,CAAA,KAAA,OAAA,GAAA,GACA,MADA,EAEA,GAFA,EAGA,KAAA,SAAA,CAAA,KAHA,SAIA,WAJA,EAAA;;AAMA,cAAA,WAAA,oBAAA,EAAA;AACA,YAAA,WAAA,CAAA,IAAA,CACA,UAAA,OAAA,EAAA;AACA,cAAA,GAAA,CAAA,KAAA,OAAA,GAAA,GAAA,OAAA,CAAA,MAAA,EAAA,GAAA,SAAA,WAAA,EAAA;AACA,aAHA,EAIA,UAAA,KAAA,EAAA;AACA,cAAA,GAAA,CAAA,QAAA,IACA,OAAA,GAAA,CAAA,QAAA,KAAA,UADA,IAEA,GAAA,CAAA,QAAA,EAFA;AAGA,cAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,EAJA,CAKA;AACA,aAVA;AAYA,WAbA,MAaA,IAAA,WAAA,EAAA;AACA;AACA,YAAA,GAAA,CAAA,KAAA,OAAA,GAAA,GACA,WAAA,CAAA,MADA,EAEA,GAFA,EAGA,KAAA,SAAA,CAAA,KAHA,SAIA,WAJA,EAAA;AAMA,WARA,MAQA;AACA,YAAA,OAAA,CAAA,KAAA,CACA,sCADA;AAGA,YAAA,IAAA,CAAA,QAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,OAAA,EAAA;AAFA,aAAA;AAIA;AACA,SArCA,MAqCA;AACA,UAAA,GAAA,CAAA,KAAA,OAAA,GAAA,GAAA,MAAA,EAAA,GAAA,SAAA,WAAA,EAAA;AACA;AACA,OAzCA,MAyCA;AACA,YACA,KAAA,MAAA,CAAA,WAAA,IACA,OAAA,KAAA,MAAA,CAAA,WAAA,IAAA,UAFA,EAGA;AACA,cAAA,GAAA,CAAA,KAAA,IAAA,OAAA,GAAA,CAAA,KAAA,IAAA,UAAA,EAAA;AACA,gBAAA,YAAA,GAAA,GAAA,CAAA,KAAA,OAAA,GAAA,GAAA,MAAA,EAAA,GAAA,SAAA,WAAA,EAAA;;AACA,gBAAA,YAAA,oBAAA,EAAA;AACA,cAAA,YAAA,CAAA,IAAA,CACA,UAAA,OAAA,EAAA;AAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CACA,KAAA,CAAA,MAAA,CAAA,WAAA,CAAA,UADA,EAEA,OAAA,CAAA,MAFA;;AAIA,gCAAA,KAAA,CAAA,MAAA,EAAA,WAAA,sBACA,OAAA,CAAA,MADA,EAEA,GAFA,EAGA,IAAA,CAAA,UAHA,SAIA,WAJA;AAMA,eAZA,EAaA,UAAA,KAAA,EAAA;AACA,oBAAA,GAAA,CAAA,QAAA,IAAA,OAAA,GAAA,CAAA,QAAA,KAAA,UAAA,EAAA;AACA,kBAAA,GAAA,CAAA,QAAA;AACA,iBAFA,MAEA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA;AAAA,oBAAA,IAAA,EAAA,OAAA;AAAA,oBAAA,OAAA,EAAA,KAAA,CAAA;AAAA,mBAAA;AACA;;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,EANA,CAOA;AACA,eArBA;AAuBA,aAxBA,MAwBA,IAAA,YAAA,EAAA;AAAA;;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,4BAAA,EAAA,YAAA,CAAA,MAAA,EADA,CAEA;;AACA,oCAAA,MAAA,EAAA,WAAA,uBACA,YAAA,CAAA,MADA,EAEA,GAFA,EAGA,IAAA,CAAA,UAHA,SAIA,WAJA;AAMA,aATA,MASA;AACA,cAAA,OAAA,CAAA,KAAA,CACA,sCADA;AAGA,cAAA,IAAA,CAAA,QAAA,CAAA;AACA,gBAAA,IAAA,EAAA,OADA;AAEA,gBAAA,OAAA,EAAA;AAFA,eAAA;AAIA;AACA,WA5CA,MA4CA;AAAA;;AACA;AACA,kCAAA,MAAA,EAAA,WAAA,uBACA,MADA,EAEA,GAFA,EAGA,IAAA,CAAA,UAHA,SAIA,WAJA;AAMA;AACA;AACA;AACA,KAlcA;AAmcA,IAAA,QAncA,sBAmcA;AACA,UAAA,IAAA,GAAA,IAAA;AAEA;;AACA,MAAA,IAAA,CAAA,QAAA,GAAA,KAAA,MAAA,CAAA,QAAA,IAAA,EAAA;AACA,WAAA,aAAA,GAAA,IAAA,CAAA,MAAA,CAAA,WAAA,CAAA,aAAA,CALA,CAOA;;AACA,MAAA,IAAA,CAAA,uBAAA,GAAA,IAAA,CACA,UAAA,OAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,sCAAA,EAAA,OAAA;AACA,QAAA,IAAA,CAAA,OAAA,CAAA,KAAA;AACA,OAJA,EAKA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA;AACA,OAPA;AAUA,MAAA,IAAA,CAAA,MAAA,CACA,kCADA,EAEA,UAAA,QAAA,EAAA,QAAA,EAAA;AACA,QAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,eAAA,EAAA,QAAA;AACA,QAAA,IAAA,CAAA,SAAA,CAAA,YAAA;AACA,UAAA,IAAA,CAAA,iBAAA;AACA,SAFA;AAGA,OAPA,EAQA;AAAA,QAAA,IAAA,EAAA;AAAA,OARA;AAUA,KA/dA;AAgeA,IAAA,YAheA,wBAgeA,aAheA,EAgeA;AACA,UAAA,UAAA,GAAA,IAAA;AACA,MAAA,aAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,CAAA,UAAA,IAAA,IAAA,CAAA,YAAA,EAAA;AACA,UAAA,UAAA,GAAA,IAAA,CAAA,YAAA;AACA;AACA,OAJA;AAKA,MAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,aAAA;AACA,aAAA,UAAA,IAAA,EAAA;AACA;AAzeA,GAdA;AAyfA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,QAAA;AACA,GA3fA;AA4fA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA,IADA,EACA,CACA;AACA;AACA;AAJA,GA5fA;AAkgBA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,aACA,CAAA,CAAA,OAAA,CACA,KAAA,MAAA,CAAA,WAAA,CAAA,aADA,EAEA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,SAAA;AAAA,OAFA,KAGA,EAJA;AAMA;AARA;AAlgBA,CAAA","sourcesContent":["<template>\n  <div :style=\"$attrs.queryConfig.containerStyle||{}\">\n    <div\n      v-for=\"(groupName,groupElementIndex) in Object.keys(groupedElements)\"\n      :style=\"groupedStyle(groupedElements[groupName])\"\n      class=\"searchContainer\"\n      :key=\"groupElementIndex+'_'+groupName\"\n    >\n      <div class=\"elementsContainer\" :style=\"$attrs.queryConfig.elementsContainer||{}\">\n        <span\n          class=\"queryElement\"\n          :style=\"queryItem.style||{}\"\n          :class=\"{hidden:queryItem.type=='hidden',switchElementContainer:queryItem.switchElements,tabContainer:queryItem.type=='tab',datetimerange:queryItem.type=='datetimerange',tipHtml:queryItem.type=='tipHtml'}\"\n          v-for=\"(queryItem,paramIndex) in  groupedElements[groupName]\"\n          :key=\"paramIndex+'_'+queryItem.prop+'_query'+queryItem.label\"\n        >\n          <template\n            v-if=\"queryItem.type=='input'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                        return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][queryParam[prop]]!=true\n                    }).filter(item=>item==true).length==0:true)\"\n          >\n            <span class=\"form-inline\" style=\"margin-top:10px;padding-right: 10px;\">\n              <span class=\"queryItemLabel\" v-if=\"queryItem.label\">{{queryItem.label}}</span>\n              <el-input\n                type=\"text\"\n                style=\"margin-bottom: 15px;\"\n                :placeholder=\"queryItem.placeholder\"\n                v-model=\"queryParam[queryItem.prop]\"\n                @input=\"changeQueryParam(queryItem)\"\n              />\n              <span\n                v-if=\"queryItem.rightBtn\"\n                @click=\"queryBtnClick(queryParam,queryItem.rightBtn)\"\n                class=\"rightBtnStyle\"\n                :style=\"queryItem.rightBtn.style\"\n              >{{queryItem.rightBtn.label||'搜索'}}</span>\n            </span>\n          </template>\n          <template\n            v-if=\"queryItem.type=='date'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                        return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][queryParam[prop]]!=true\n                    }).filter(item=>item==true).length==0:true)\"\n          >\n            <span class=\"form-inline\" style=\"margin-top:10px;padding-right: 10px;\">\n              <span class=\"queryItemLabel\" v-if=\"queryItem.label\">{{queryItem.label}}</span>\n              <input\n                type=\"text\"\n                :placeholder=\"queryItem.placeholder\"\n                :id=\"queryItem.id\"\n                class\n                v-model=\"queryParam[queryItem.prop]\"\n              >\n            </span>\n          </template>\n          <template\n            v-if=\"queryItem.type=='datetimerange'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                        return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][queryParam[prop]]!=true\n                    }).filter(item=>item==true).length==0:true)\"\n          >\n            <span\n              class=\"form-inline\"\n              v-if=\"queryItem.type=='datetimerange'\"\n              style=\"margin-top:10px;padding-right: 10px;\"\n            >\n              <span class=\"queryItemLabel\" v-if=\"queryItem.label\">{{queryItem.label}}</span>\n              <el-date-picker\n                v-model=\"queryParam[queryItem.prop]\"\n                type=\"datetimerange\"\n                :picker-options=\"queryItem.options\"\n                :range-separator=\"queryItem.centerLabel||'至'\"\n                :placeholder=\"queryItem.placeholder||'请选择时间范围'\"\n                format=\"yyyy-MM-dd HH:mm:ss\"\n                @change=\"data=>{\n                                                queryParam[queryItem.prop]=data.split((queryItem.centerLabel||'至'))\n                                            }\"\n                align=\"right\"\n              ></el-date-picker>\n            </span>\n          </template>\n          <template\n            v-if=\"queryItem.type=='composite'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                        return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][queryParam[prop]]!=true\n                    }).filter(item=>item==true).length==0:true)\"\n          >\n            <span class=\"form-inline\" style=\"margin-top:10px;padding-right: 10px;\">\n              <span class=\"queryItemLabel\" v-if=\"queryItem.label\">{{queryItem.label}}</span>\n              <span\n                v-for=\"component in queryItem.components\"\n                :key=\"component.prop+'_query'+queryItem.label+'_'+paramIndex\"\n              >\n                <input\n                  type=\"text\"\n                  class=\"width170\"\n                  v-model=\"queryParam[component.prop]\"\n                  :placeholder=\"component.placeholder\"\n                  :id=\"component.id\"\n                  :maxelementid=\"component.maxelementid\"\n                  :minelementid=\"component.minelementid\"\n                >\n                <span v-if=\"$index==0\">{{queryItem.link}}</span>\n              </span>\n            </span>\n          </template>\n          <template\n            v-if=\"queryItem.type=='select'&&(queryItem.watch&&queryItem.watch.props?JSON.parse(JSON.stringify(queryItem.watch.props)).map(prop=>{\n                        if(Object.keys(queryItem.watch.watchValue[prop]).length==0){\n                            return false;\n                        }\n                        return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][queryParam[prop]]!=true\n                    }).filter(item=>item==true).length==0:true)\"\n          >\n            <span\n              class=\"form-inline\"\n              :class=\"{switchContainer:queryItem.switchElements}\"\n              style=\"margin-top:10px;padding-right: 10px;\"\n            >\n              <span class=\"queryItemLabel\" v-if=\"queryItem.label\">{{queryItem.label}}</span>\n              <span v-if=\"!queryItem.dataUrl\">\n                <el-select\n                  class=\"width170\"\n                  v-model=\"queryParam[queryItem.prop]\"\n                  filterable\n                  @change=\"changeQueryParam(queryItem)\"\n                >\n                  <el-option value>{{queryItem.placeholder||'请选择'}}</el-option>\n                  <el-option\n                    v-for=\"component in queryItem.options\"\n                    :value=\"component.value||component.code\"\n                    :key=\"component.code+component.value+component.id+'_query'+component.label\"\n                    :label=\"component.label||component.name\"\n                  >{{component.label||component.name}}</el-option>\n                </el-select>\n              </span>\n              <span v-if=\"queryItem.dataUrl\">\n                <el-select\n                  class=\"width170\"\n                  v-model=\"queryParam[queryItem.prop]\"\n                  filterable\n                  @change=\"changeQueryParam(queryItem)\"\n                >\n                  <el-option value>{{queryItem.placeholder||'请选择'}}</el-option>\n                  <el-option\n                    v-for=\"component in dataQuery.query[queryItem.propList]\"\n                    :key=\"queryItem.prop+'_select_'+component.id+'_value_'+component.value+'_code_'+component.code\"\n                    :value=\"component.code||component.id||component.value\"\n                    :code=\"component.id||component.code||component.value\"\n                    :label=\"component.label||component.name||component.desc\"\n                  >{{component.name||component.label||component.desc}}</el-option>\n                </el-select>\n              </span>\n            </span>\n          </template>\n          <template\n            v-if=\"queryItem.type=='tipHtml'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                        return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][queryParam[prop]]!=true\n                    }).filter(item=>item==true).length==0:true)\"\n          >\n            <span\n              class=\"form-inline\"\n              :style=\"queryItem.style||{'margin-top':'10px','padding-right': '10px'}\"\n            >\n              <div\n                v-for=\"(tip,indexTip) in queryItem.items\"\n                @click=\"(!tip.items)&&queryBtnClick(queryParam,queryItem,indexTip)\"\n                :key=\"indexTip+'_'+queryItem.prop\"\n              >\n                <template v-if=\"tip.items\">\n                  <span\n                    v-for=\"(innerItem,innerItemIndex) in tip.items\"\n                    @click=\"queryBtnClick(queryParam,queryItem,indexTip,innerItemIndex)\"\n                    :key=\"'innerItemIndex'+'_'+innerItemIndex\"\n                    v-html=\"innerItem\"\n                  ></span>\n                </template>\n                <span v-else v-html=\"tip\"></span>\n              </div>\n            </span>\n          </template>\n          <template\n            v-if=\"queryItem.type=='tab'&&(queryItem.watch&&queryItem.watch.props?queryItem.watch.props.map(prop=>{\n                        return queryItem.watch.watchValue[prop]&&queryItem.watch.watchValue[prop][queryParam[prop]]!=true\n                    }).filter(item=>item==true).length==0:true)\"\n          >\n            <ul class=\"myTabsContainer\">\n              <li\n                v-for=\"(component,labelIndex) in !(queryItem.dataUrl&&queryItem.initQuery)?queryItem.components:dataQuery.query[queryItem.propList]\"\n                :key=\"component.code+component.prop+component.id+'__query'+component.label\"\n              >\n                <input\n                  type=\"radio\"\n                  :name=\"component.prop\"\n                  :id=\"component.prop+'_'+labelIndex\"\n                  :value=\"component.value||component.code\"\n                  @change=\"queryBtnClick(queryParam,queryItem,component)\"\n                  v-model=\"queryParam[queryItem.prop]\"\n                >\n                <label\n                  :for=\"component.prop+'_'+labelIndex\"\n                  :class=\"['btn',{checkedStyle:queryParam[queryItem.prop]==component.value}]\"\n                >{{component.label||component.desc||component.name}}</label>\n              </li>\n            </ul>\n          </template>\n        </span>\n        <span\n          v-for=\"(queryItem,paramIndex) in groupedElements[groupName]\"\n          v-if=\"queryItem.type=='button'||queryItem.type=='search'\"\n          :style=\"queryItem.style||{paddingTop:'10px'}\"\n          v-bind:hidden=\"queryItem.hidden\"\n          :key=\"queryItem.prop+'_query'+queryItem.label+'_'+paramIndex\"\n          @click=\"queryBtnClick(queryParam,queryItem)\"\n        >\n          <template v-if=\"queryItem.viewHandler\">\n            <template v-if=\"!queryItem.html\">\n              <span\n                v-if=\"queryItem.type!='search'\"\n                :class=\"['btn','btn-default','el-button el-button--default',queryItem.type=='search'?'el-button el-button--info':'',queryItem.btnClass]\"\n              >{{queryItem.viewHandler(queryItem,$route.params,queryParam,context)}}</span>\n            </template>\n            <template v-else>\n              <span\n                v-if=\"queryItem.type!='search'\"\n                v-html=\"queryItem.viewHandler(queryItem,$route.params,queryParam,context)\"\n              ></span>\n            </template>\n          </template>\n          <template v-else>\n            <span\n              v-if=\"queryItem.type!='search'\"\n              :style=\"queryItem.style||{}\"\n              :class=\"['btn','btn-default','el-button el-button--default',queryItem.type=='search'?'el-button el-button--info':'',queryItem.btnClass]\"\n            >{{queryItem.label}}</span>\n            <el-button v-else type=\"primary\" icon=\"search\">搜索</el-button>\n          </template>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport backendService from \"../remoteService/backendService\";\nimport _ from \"lodash\";\n\nexport default {\n  name: \"table-query-param\",\n  data: function() {\n    return {\n      queryElements: [],\n      dataQuery: {\n        query: {}\n      },\n      readonly: {},\n      queryParam: {},\n      watchMap: {},\n      context: null\n    };\n  },\n  methods: {\n    queryListData(params) {\n      let requestParam = JSON.parse(JSON.stringify(params.queryParam)) || {};\n      delete requestParam[\"timeRange\"];\n      return backendService\n        .getData({\n          url: params.url,\n          method: params.method || \"post\",\n          data: requestParam\n        })\n        .then(function(result) {\n          return Promise.resolve(result);\n        });\n    },\n    changeQueryParam: function(data, operate) {\n      let that = this;\n      this.$nextTick(function() {\n        that.changeHelp(data, operate);\n      });\n    },\n    changeHelp(prop) {\n      let that = this;\n      let currentSwitchValue = this.queryParam[prop.prop];\n      let watchElements = this.watchMap[prop.prop] || {};\n      if (Object.keys(watchElements).length == 0 && prop.type != \"tab\") return;\n      that.initElementsPromise(watchElements, currentSwitchValue, prop).then(\n        success => {\n          console.log(\"changeHelp success**** ---\", success);\n          if (prop.type == \"tab\") {\n            that.$parent.fresh();\n          }\n        },\n        error => {\n          console.log(\"changeHelp error **** ---\", error);\n        }\n      );\n    },\n    restoreQueryParam() {\n      let that = this;\n      that.dataQuery.query = {};\n      this.queryParam = {};\n      this.initQueryElementPromise().then(\n        success => {\n          console.log(\"restoreQueryParam  ---> success--->\", success);\n        },\n        error => {\n          console.log(\"restoreQueryParam  ---> error--->\", error);\n        }\n      );\n    },\n\n    getElement(prop) {\n      let elementItem = {};\n      this.queryElements.forEach(item => {\n        if (item.prop == prop) {\n          elementItem = item;\n        }\n      });\n      return elementItem;\n    },\n\n    initQueryElementPromise() {\n      let that = this;\n      let watchMap = {};\n      /*n 级 级联查询开始*/\n      if (this.queryElements == null || this.queryElements.length == 0)\n        return Promise.resolve({ code: 1, msg: \"no elements need init!\" });\n      var requestUrlParam = [].filter.call(this.queryElements, function(item) {\n        /*发现关联关系 当值被观察的时候有变动会处理级联变动的相关元素 最常见是为 tab切换做相关下来元素的初始化*/\n        if (item.watch && item.watch.props && item.watch.props.length) {\n          item.watch.props.forEach(watchKey => {\n            if (watchMap[watchKey]) {\n              watchMap[watchKey][item.prop] = item;\n            } else {\n              let tempKeyMap = {};\n              tempKeyMap[item.prop] = item;\n              watchMap[watchKey] = tempKeyMap;\n            }\n          });\n        }\n\n        /*兼容之前老版本 start*/\n        if (item.casecadeChild) {\n          if (watchMap[item.prop]) {\n            watchMap[item.prop][item.casecadeChild] = that.getElement(\n              item.casecadeChild\n            );\n          } else {\n            let tempKeyMap = {};\n            tempKeyMap[item.casecadeChild] = that.getElement(\n              item.casecadeChild\n            );\n            watchMap[item.prop] = tempKeyMap;\n          }\n        }\n\n        if (item.casecadeGrandsonList) {\n          item.casecadeGrandsonList.forEach(childElementProp => {\n            if (watchMap[item.prop]) {\n              if (!watchMap[item.prop][childElementProp]) {\n                watchMap[item.prop][childElementProp] = that.getElement(\n                  childElementProp\n                );\n              }\n            } else {\n              let tempKeyMap = {};\n              tempKeyMap[childElementProp] = that.getElement(childElementProp);\n              watchMap[item.prop] = tempKeyMap;\n            }\n          });\n        }\n\n        if (item.casecadeParen) {\n          if (watchMap[item.casecadeParen]) {\n            watchMap[item.casecadeParen][item.prop] = item;\n          } else {\n            let tempKeyMap = {};\n            tempKeyMap[item.prop] = item;\n            watchMap[item.casecadeParen] = tempKeyMap;\n          }\n        }\n\n        /*兼容之前老版本 end*/\n\n        if (item.dataUrl && item.initQuery) {\n          that.$set(\n            that.queryParam,\n            item.prop,\n            item.defaultValue || item.value\n          );\n          return item;\n        } else {\n          if (\n            !(\n              item.type == \"search\" ||\n              item.type == \"button\" ||\n              item.prop == \"deleteProps\"\n            )\n          ) {\n            that.$set(\n              that.queryParam,\n              item.prop,\n              item.defaultValue || item.value\n            );\n          }\n        }\n      });\n      that.$set(that, \"watchMap\", watchMap);\n\n      let promiseList = [];\n\n      for (let seq in requestUrlParam) {\n        let initElementPromise = new Promise(function(resolve, reject) {\n          let item = requestUrlParam[seq];\n          if (\n            item.casecadeParen == null ||\n            item.casecadeParen == \"\" ||\n            item.includeInit == true\n          ) {\n            let submitParam = JSON.parse(JSON.stringify(that.queryParam));\n            if (submitParam.timeRange) {\n              submitParam[\"startTime\"] = that.queryParam.timeRange[0] || \"\";\n              submitParam[\"endTime\"] = that.queryParam.timeRange[1] || \"\";\n            }\n\n            if (that.queryParam.deleteProps) {\n              console.log(that.queryParam.deleteProps);\n              that.queryParam.deleteProps.forEach(item => {\n                delete submitParam[item];\n              });\n              delete submitParam[\"deleteProps\"];\n            }\n            if (item.watchParams) {\n              Object.keys(item.watchParams).forEach(key => {\n                submitParam[key] =\n                  that.readonly[key] || that.queryParam[key] || \"\";\n              });\n            }\n\n            if (item.otherParams) {\n              Object.keys(item.otherParams).forEach(key => {\n                submitParam[key] = item.otherParams[key] || \"\";\n              });\n            }\n\n            /*顶级元素优先查询完成一级数据初始化*/\n            that\n              .queryListData({\n                url: item.dataUrl,\n                queryParam: submitParam,\n                method: item.httpMethod || \"get\"\n              })\n              .then(\n                listData => {\n                  if (!listData)\n                    return resolve({ url: item.dataUrl, data: listData });\n                  that.$set(\n                    that.dataQuery.query,\n                    item.propList,\n                    item.dataHandler\n                      ? item.dataHandler(listData)\n                      : listData[item.propValueList]\n                  );\n                  that.$set(that.queryParam, item.prop, item.defaultValue);\n                  resolve({ url: item.dataUrl, data: listData });\n                  //console.log(\"****\",this.dataQuery.query)\n                },\n                error => {\n                  console.log(error);\n                  reject({ url: item.dataUrl, error });\n                }\n              );\n          }\n        });\n        promiseList.push(initElementPromise);\n      }\n      return Promise.all(promiseList);\n    },\n\n    initElementsPromise(elements, currentSwitchValue, parentElement) {\n      /*被关注的元素值发生变动执行的初始化操作*/\n      let that = this;\n      let promiseList = [];\n      for (let seq in elements) {\n        let initElementPromise = new Promise(function(resolve, reject) {\n          let item = elements[seq];\n          if (item) {\n            let defaultPrevent = {};\n            defaultPrevent[parentElement.prop] = \"\";\n            item.preventRequestValue = item.preventRequestValue\n              ? item.preventRequestValue\n              : defaultPrevent;\n            if (item.preventRequestValue) {\n              let keys = Object.keys(item.preventRequestValue);\n              if (keys.length) {\n                let preventKeys = keys.filter(key => {\n                  return that.queryParam[key] == item.preventRequestValue[key];\n                });\n\n                if (preventKeys.length) {\n                  let listData = [];\n                  that.$set(that.dataQuery.query, item.propList, listData);\n                  that.$set(that.queryParam, item.prop, item.defaultValue);\n                  resolve({ url: item.dataUrl, data: listData });\n                  return;\n                }\n              }\n            }\n\n            let submitParam = JSON.parse(JSON.stringify(that.queryParam));\n            if (submitParam.timeRange) {\n              submitParam[\"startTime\"] = that.queryParam.timeRange[0] || \"\";\n              submitParam[\"endTime\"] = that.queryParam.timeRange[1] || \"\";\n            }\n\n            if (item.deleteProps) {\n              console.log(item.deleteProps);\n              item.deleteProps.forEach(item => {\n                delete submitParam[item];\n              });\n              delete submitParam[\"deleteProps\"];\n            }\n\n            if (item.watchParams) {\n              Object.keys(item.watchParams).forEach(key => {\n                submitParam[key] =\n                  that.readonly[key] || that.queryParam[key] || \"\";\n              });\n            }\n\n            for (let key in item.dropProps) {\n              delete submitParam[item.dropProps[key]];\n            }\n            //console.log(\"item\",item)\n\n            if (item.watch && item.watch.watchValue) {\n              // console.log(\"needInitSelected.watch.watchValue\",item.watch.watchValue)\n              Object.keys(item.watch.watchValue).forEach(key => {\n                submitParam[key] = that.readonly[key] || submitParam[key] || \"\";\n              });\n            }\n\n            if (item.otherParams) {\n              Object.keys(item.otherParams).forEach(key => {\n                submitParam[key] = item.otherParams[key] || \"\";\n              });\n            }\n\n            if (item.extendsProp) {\n              for (let seq in item.extendsProp) {\n                submitParam[item.extendsProp[seq]] = currentSwitchValue;\n              }\n            }\n\n            if (!item.dataUrl) {\n              that.$set(that.queryParam, item.prop, item.defaultValue);\n              resolve({ url: item.dataUrl, data: {} });\n              return;\n            }\n\n            /*顶级元素优先查询完成一级数据初始化*/\n            that\n              .queryListData({\n                url: item.dataUrl,\n                queryParam: submitParam,\n                method: item.httpMethod || \"get\"\n              })\n              .then(\n                listData => {\n                  if (!listData)\n                    return resolve({ url: item.dataUrl, data: listData });\n                  that.$set(\n                    that.dataQuery.query,\n                    item.propList,\n                    item.dataHandler\n                      ? item.dataHandler(listData)\n                      : listData[item.propValueList]\n                  );\n                  that.$set(that.queryParam, item.prop, item.defaultValue);\n                  resolve({ url: item.dataUrl, data: listData });\n                  //console.log(\"****\",this.dataQuery.query)\n                },\n                error => {\n                  console.log(error);\n                  reject({ url: item.dataUrl, error });\n                }\n              );\n          }\n        });\n        promiseList.push(initElementPromise);\n      }\n      return Promise.all(promiseList);\n    },\n\n    queryBtnClick(params, btn, ...otherParams) {\n      let that = this;\n      console.log(\"queryBtnClick\", params, btn, ...otherParams);\n      if (!params.timeRange) {\n        params.timeRange = [\"\", \"\"];\n      }\n\n      if (btn.type == \"tab\" && btn.needReinit) {\n        //this.initQueryElement();\n        this.$nextTick(data => {\n          console.log(\"queryBtnClick\", params, btn);\n          this.reInitQueryElement();\n        });\n      }\n\n      if (btn.click && typeof btn.click == \"function\") {\n        if (btn.check && typeof btn.check == \"function\") {\n          let checkResult = btn.check(\n            params,\n            btn,\n            this.dataQuery.query,\n            ...otherParams\n          );\n          if (checkResult instanceof Promise) {\n            checkResult.then(\n              success => {\n                btn.click(success.params, btn, ...otherParams);\n              },\n              error => {\n                btn.errorTip &&\n                  typeof btn.errorTip === \"function\" &&\n                  btn.errorTip();\n                console.log(\"验证失败 不搜索!调用错误提示方法\");\n                //btn.click(params,btn);\n              }\n            );\n          } else if (checkResult) {\n            //console.log(\"checkResult\",checkResult)\n            btn.click(\n              checkResult.params,\n              btn,\n              this.dataQuery.query,\n              ...otherParams\n            );\n          } else {\n            console.error(\n              \"验证没有返回,请返回 {params:参数对象} 或 Promise对象\"\n            );\n            that.$message({\n              type: \"error\",\n              message: \"验证没有返回 不请求 请查看控制台帮助..\"\n            });\n          }\n        } else {\n          btn.click(params, btn, ...otherParams);\n        }\n      } else {\n        if (\n          this.$attrs.clickConfig &&\n          typeof this.$attrs.clickConfig == \"function\"\n        ) {\n          if (btn.check && typeof btn.check == \"function\") {\n            let checkResult = btn.check(params, btn, ...otherParams);\n            if (checkResult instanceof Promise) {\n              checkResult.then(\n                success => {\n                  this.$parent.$emit(\n                    this.$attrs.queryConfig.listenerId,\n                    success.params\n                  );\n                  this.$attrs.clickConfig(\n                    success.params,\n                    btn,\n                    that.queryParam,\n                    ...otherParams\n                  );\n                },\n                error => {\n                  if (btn.errorTip && typeof btn.errorTip === \"function\") {\n                    btn.errorTip();\n                  } else {\n                    this.$message({ type: \"error\", message: error.msg });\n                  }\n                  console.log(\"验证失败 不搜索!调用错误提示方法\");\n                  //btn.click(params,btn);\n                }\n              );\n            } else if (checkResult) {\n              console.log(\"checkResult***************\", checkResult.params);\n              //this.$parent.$emit(this.$attrs.queryConfig.listenerId,checkResult.params)\n              this.$attrs.clickConfig(\n                checkResult.params,\n                btn,\n                that.queryParam,\n                ...otherParams\n              );\n            } else {\n              console.error(\n                \"验证没有返回,请返回 {params:参数对象} 或 Promise对象\"\n              );\n              that.$message({\n                type: \"error\",\n                message: \"验证没有返回 不请求 请查看控制台帮助..\"\n              });\n            }\n          } else {\n            //this.$parent.$emit(this.$attrs.queryConfig.listenerId,params,btn)\n            this.$attrs.clickConfig(\n              params,\n              btn,\n              that.queryParam,\n              ...otherParams\n            );\n          }\n        }\n      }\n    },\n    initPage() {\n      let that = this;\n\n      /*挑选出需要初始化的查询元素 组合成promise.all 排序依赖元素*/\n      that.readonly = this.$attrs.readData || {};\n      this.queryElements = that.$attrs.queryConfig.queryElements;\n\n      //静态值和动态值均已初始化完毕 可以调用table 进行数据查询了\n      that.initQueryElementPromise().then(\n        success => {\n          console.log(\"params init success  page init first\", success);\n          that.$parent.fresh();\n        },\n        error => {\n          console.log(\"error\", error);\n        }\n      );\n\n      that.$watch(\n        \"$attrs.queryConfig.queryElements\",\n        function(newValue, oldValue) {\n          that.$set(that, \"queryElements\", newValue);\n          that.$nextTick(function() {\n            that.restoreQueryParam();\n          });\n        },\n        { deep: true }\n      );\n    },\n    groupedStyle(groupElements) {\n      let groupStyle = null;\n      groupElements.forEach(item => {\n        if (!groupStyle && item.groupedStyle) {\n          groupStyle = item.groupedStyle;\n        }\n      });\n      console.log(\"groupElements\", groupElements);\n      return groupStyle || {};\n    }\n  },\n  created: function() {\n    this.initPage();\n  },\n  watch: {\n    $route(to, from) {\n      //console.log(\"this.$route.params\",this.$route.params)\n      //this.initPage();\n    }\n  },\n  computed: {\n    groupedElements() {\n      return (\n        _.groupBy(\n          this.$attrs.queryConfig.queryElements,\n          item => item.groupName\n        ) || {}\n      );\n    }\n  }\n};\n</script>\n\n<style scoped>\ninput,\nselect,\n.queryParamInput {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  background-color: #fff;\n  background-image: none;\n  border-radius: 4px;\n  border: 1px solid #bfcbd9;\n  box-sizing: border-box;\n  color: #1f2d3d;\n  font-size: inherit;\n  height: 36px;\n  line-height: 1;\n  outline: 0;\n  padding: 3px 10px;\n  transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n\n  width: 220px;\n}\n\ninput,\nselect,\n.queryParamInput,\n.el-select,\n.datetimerange {\n  margin-bottom: 15px;\n}\n\nlabel.btn,\n.btn,\n.el-button {\n  display: inline-block;\n  line-height: 1;\n  white-space: nowrap;\n  cursor: pointer;\n  /*border: 1px solid #c4c4c4;*/\n  /*color: #fff;*/\n  margin: 0;\n  padding: 10px 15px;\n  border-radius: 4px;\n  margin-bottom: 15px;\n  margin-right: 10px;\n}\nlabel.btn {\n  margin-right: 0px;\n  border: 0px solid #fff;\n  color: #48576a;\n}\n.searchContainer {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  background: rgba(0, 0, 0, 0);\n  padding: 10px;\n  border: 0px solid #f00;\n  background: linear-gradient(180deg, #6cb4ff, rgb(255, 255, 255));\n}\n.elementsContainer {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: row;\n  flex-wrap: wrap;\n  flex-grow: 1;\n  flex-shrink: 1;\n  position: relative;\n}\n.queryElement {\n  display: inline-block;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: auto;\n}\n.queryElement span[flagkey=\"hidden\"],\n.hidden {\n  display: none !important;\n  background: #f00;\n}\n\n.tabContainer {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n}\n.tabContainer ul {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n.tabContainer ul li {\n  display: inline-block;\n  padding: 0px;\n  margin: 0px;\n  border-radius: 0px;\n}\n.tabContainer ul li label {\n  display: inline-block;\n  padding: 10px 35px;\n  border-radius: 0px;\n  margin-bottom: 0px;\n  border-left: none;\n}\n.tabContainer ul li:nth-child(1) label {\n  display: inline-block;\n  padding: 10px 35px;\n  border-left: 0px solid #1f2d3d;\n}\n.tabContainer > span {\n  display: inline-block;\n  width: 100%;\n}\n.tabContainer input {\n  display: none;\n}\n.tabContainer .label_checkbox {\n  display: inline-block;\n  width: 100%;\n  text-align: left;\n  background: #f0a;\n}\n.tabContainer .form-inline {\n  width: 100%;\n}\n.label_checkbox input:checked + label {\n  background: #ffffff !important;\n  color: #20a0ff;\n  border-radius: 0px !important;\n  border-top-left-radius: 5px !important;\n  border-top-right-radius: 5px !important;\n  border: 1px solid #1f2d3d;\n  border-bottom: 1px solid #fff;\n  transform: translateY(1px);\n}\n.datetimerange,\n.tipHtml {\n  /* width: 100%;*/\n  display: inline-block;\n}\n.tabContainer ul li label {\n  border-radius: 0px;\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  border-right: 0px solid #1f2d3d;\n  border-top: 0px solid #1f2d3d;\n  transform: translateY(1px);\n}\n.queryItemLabel {\n  display: inline-block;\n  text-align: right;\n  flex-grow: 0;\n  flex-shrink: 0;\n  margin-bottom: 15px;\n}\n\n.rightBtnStyle {\n  background: #00a0e9;\n  display: inline-block;\n  padding: 5px 10px;\n  color: #fff;\n  cursor: pointer;\n  border-radius: 5px;\n}\n\n.form-inline {\n  display: flex;\n  width: auto;\n  border: 0px solid #f0a;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.myTabsContainer {\n  display: inline-block;\n  border-bottom: 0px solid #333;\n  width: 100%;\n  text-align: left;\n  padding-left: 0px;\n  margin: 0px;\n}\n.checkedStyle {\n  color: green !important;\n  background: #fff;\n}\n</style>"],"sourceRoot":"src/components/tableList"}]}